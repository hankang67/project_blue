![image](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F5Ki7f%2FbtsKOKZlNKD%2FkG8QAQwWBnEToKrhFVRrvK%2Fimg.png)

# ğŸ« TICKET BLUE
_í”„ë¡œì íŠ¸ ê°œìš”_

ê³µì—° ë“± ë‹¤ì–‘í•œ ë¬¸í™” ë° ì—”í„°í…Œì´ë¨¼íŠ¸ ì´ë²¤íŠ¸ì˜ í‹°ì¼“ì„ ì˜¨ë¼ì¸ìœ¼ë¡œ ì˜ˆë§¤í•  ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤

# âš½ Goals
_í•µì‹¬ ëª©í‘œ_

## ì‚¬ìš©ì í¸ì˜ê¸°ëŠ¥ ìµœì í™”
- Elasticsearch ë„ì…ìœ¼ë¡œ ê²€ìƒ‰ ì†ë„ 50% ì´ìƒ í–¥ìƒ
- Redis caching ë„ì…ìœ¼ë¡œ ê²€ìƒ‰ ì†ë„ 50% ì´ìƒ í–¥ìƒ
## Spring Batch
- Spring Batchë¡œ ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬
- JDBC Bulk Insert ë°©ì‹ìœ¼ë¡œ 70% ì†ë„ ê°œì„ 
## ì´ì¤‘í™” DB
- DB ì´ì¤‘í™”ë¡œ ë¶€í•˜ ë°©ì§€ ë° ë°ì´í„° ì•ˆì •ì„± ë³´ì¥
- ì—ëŸ¬ìœ¨ 0%ë¥¼ ëª©í‘œë¡œ ì´ì¤‘í™” í™˜ê²½ êµ¬ì„±

# ğŸŒŸ Key Summary
_í•µì‹¬ ìš”ì•½_

ì‘ì„±ì¤‘

# ğŸš€ Infra Architecture & STACK
_ì¸í”„ë¼ ì•„í‚¤í…ì²˜ & ì ìš©ê¸°ìˆ _

![Infra](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FctMT0I%2FbtsKO6172by%2FCfn9epQ080RRD8gKUKFShk%2Fimg.png)

[ERD diagram](https://www.erdcloud.com/d/5iR9JboxDdHp9rhv4)
![ERD](https://github.com/user-attachments/assets/c8931c5d-13ba-4120-9876-4e0b613e9af6)

Development & Communication

![IntelliJ](https://img.shields.io/badge/IntelliJ_IDEA-222326.svg?style=for-the-badge&logo=intellij-idea&logoColor=white)
![Gradle](https://img.shields.io/badge/Gradle-02303a?style=for-the-badge&logo=gradle&logoColor=white)
![GIT](https://img.shields.io/badge/GIT-E44C30?style=for-the-badge&logo=git&logoColor=white)
![GitHub](https://img.shields.io/badge/GitHub-100000?style=for-the-badge&logo=github&logoColor=white)
![gitignore](https://img.shields.io/badge/gitignore.io-204ECF?style=for-the-badge&logo=gitignore.io&logoColor=white)

![Jira](https://img.shields.io/badge/Jira-0052CC?style=for-the-badge&logo=jira&logoColor=white)
![zoom](https://img.shields.io/badge/Zoom-0B5CFF?style=for-the-badge&logo=zoom&logoColor=white)
![Slack](https://img.shields.io/badge/Slack-4A154B?style=for-the-badge&logo=slack&logoColor=white)
![Notion](https://img.shields.io/badge/Notion-000000?style=for-the-badge&logo=notion&logoColor=white)

Frameworks & Languages

![SpringBoot](https://img.shields.io/badge/SpringBoot-6db33f?style=for-the-badge&logo=springboot&logoColor=white)
![SpringBatch](https://img.shields.io/badge/SpringBatch-6db33f?style=for-the-badge&logo=spring&logoColor=white)
![Java](https://img.shields.io/badge/Java-ED8B00?style=for-the-badge&logo=openjdk&logoColor=white)

Data & Monitoring

![MySQL](https://img.shields.io/badge/mysql-4479A1?style=for-the-badge&logo=mysql&logoColor=white)
![Redis](https://img.shields.io/badge/redis-FF4438?style=for-the-badge&logo=redis&logoColor=white)
![Elasticsearch](https://img.shields.io/badge/Elasticsearch-005571?style=for-the-badge&logo=Elasticsearch&logoColor=white)
![prometheus](https://img.shields.io/badge/prometheus-E6522C?style=for-the-badge&logo=prometheus&logoColor=white)
![grafana](https://img.shields.io/badge/grafana-F46800?style=for-the-badge&logo=grafana&logoColor=white)

Deployment & Operations

![AWS](https://img.shields.io/badge/aws-232F3E?style=for-the-badge&logo=amazonwebservices&logoColor=white)
![docker](https://img.shields.io/badge/docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)
![jenkins](https://img.shields.io/badge/jenkins-D24939?style=for-the-badge&logo=jenkins&logoColor=white)
![logstash](https://img.shields.io/badge/logstash-005571?style=for-the-badge&logo=logstash&logoColor=white)
![kibana](https://img.shields.io/badge/kibana-005571?style=for-the-badge&logo=kibana&logoColor=white)

API & Testing

![swagger](https://img.shields.io/badge/swagger-85EA2D?style=for-the-badge&logo=swagger&logoColor=white)
![Postman](https://img.shields.io/badge/Postman-ff6c37?style=for-the-badge&logo=postman&logoColor=white)
![sonarqube](https://img.shields.io/badge/sonarqube-4E9BCD?style=for-the-badge&logo=sonarqube&logoColor=white)
![sonarLint](https://img.shields.io/badge/sonarlint-CB2029?style=for-the-badge&logo=sonarlint&logoColor=white)

# ğŸ” Main Features

_ì£¼ìš” ê¸°ëŠ¥_

Admin

    - ê´€ë¦¬ì ì „ìš© ê³„ì •ìœ¼ë¡œ ê°€ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - í¬ìŠ¤í„° íŒŒì¼ì„ ì²¨ë¶€í•˜ì—¬ ê³µì—°ì„ ë“±ë¡í•˜ê³  ìˆ˜ì • ì‚­ì œê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤. (ì´ë¯¸ì§€ëŠ” AWS S3ì— ì €ì¥ë©ë‹ˆë‹¤.)
    - ê³µì—°ì¥, ì¶œì—°ì, ê³µì—°ì— ëŒ€í•œ íšŒì°¨ë“±ì„ ë“±ë¡í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - ì¿ í°ì„ ë“±ë¡í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - ê³µì—°ì— ì¶œì—°í•˜ëŠ” ì¶œì—°ìë¥¼ ë“±ë¡í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - ì‚¬ìš©ì ì˜ˆë§¤ë‚´ì—­ì„ ì¡°ê±´ì— ë”°ë¼ ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (íŠ¹ì • ê³µì—°ì— ëŒ€í•œ ì˜ˆë§¤ ë‚´ì—­ ë“±) - Elasticsearch

Admin - Spring Batch

[Spring Batch Application GitHub ë°”ë¡œê°€ê¸°](https://github.com/everydayspring/project-blue-batch)

    - OldUsers - íœ´ë¨¼ê³„ì • ì²˜ë¦¬
    - OldUsersAlert - íœ´ë¨¼ê³„ì • ëŒ€ìƒì ì•Œë¦¼
    - OldPerformances - ì˜¤ë˜ëœ ê³µì—° ì •ë³´ ì‚­ì œ
    - TimeoutReservation - ê¸°ê°„ ë§Œë£Œ ì˜ˆë§¤ ì·¨ì†Œì²˜ë¦¬
    - UpcomingReservationAlert - ê´€ëŒì¼ ì•Œë¦¼
    - ReservationReviewAlert - ê´€ëŒí‰ ì‘ì„± ìœ ë„ ì•Œë¦¼

Search

    - í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì—¬ í•œë²ˆì˜ ê²€ìƒ‰ìœ¼ë¡œ ê³µì—°ì¥, ì¶œì—°ì, ê³µì—°ì„ ëª¨ë‘ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Elasticsearchë¡œ êµ¬í˜„ë˜ì–´ ë¹ ë¥¸ ì‘ë‹µì†ë„ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
    - ì‚¬ìš©ê°€ëŠ¥í•œ ì¿ í°, ì „ì²´ ê³µì—°, ë°°ìš°, ê³µì—°ì¥ ë“±ì„ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Redis Caching ê¸°ëŠ¥ì„ ì ìš©í•˜ì—¬ ì¬ê²€ìƒ‰ì‹œ ë¹ ë¥¸ ì‘ë‹µì†ë„ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
    - ì›í•˜ëŠ” ê³µì—°íšŒì°¨ì˜ ì”ì—¬ì¢Œì„ì„ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Reservation

    - ì›í•˜ëŠ” ê³µì—°íšŒì°¨ì˜ ì¢Œì„ì„ ì§€ì •í•˜ì—¬ ì˜ˆë§¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - ì˜ˆë§¤ì— ëŒ€í•œ ê²°ì œ, ê²°ì œì·¨ì†Œê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤ (í† ìŠ¤í˜ì´ë¨¼ì¸  API)
    - ì˜ˆë§¤, ê²°ì œ ì‹œ Slack ì•Œë¦¼ê³¼ Mailing ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤ (SSE, Async)


# ğŸ”¥ Technical Enhancements

_ê¸°ìˆ ì  ê³ ë„í™”_

<details> <summary>JIRA</summary>

### Jira

- Jira í”Œë«í¼ì„ í™œìš©í•˜ì—¬ í”„ë¡œì íŠ¸ ê´€ë¦¬ë¥¼ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤

![Jira_Timeline](https://g-cbox.pstatic.net/MjAyNDExMjFfMzAw/MDAxNzMyMTYyNTQzODMx.xZDLpCMsB_vk-ReOs_fb2pckQWKXCWDOJhmYmN27W_Eg.YxNraajudnB_nkRHdVToJtELcEThTK424gE-Loj6ocAg.PNG/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2024-11-21_131417.png)

- GitHub ì—°ë™ìœ¼ë¡œ ì´ìŠˆì™€ ê´€ë ¨ëœ ì»¤ë°‹ ê¸°ë¡ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

![Jira_Github_connection](https://g-cbox.pstatic.net/MjAyNDExMjFfODQg/MDAxNzMyMTYyNjg5NTYy.vl0DYUQdx9ercb8V801IwkQcT3JaHCzwaDSiXTWT43Qg.3cU_sfoN8RgRsDWqh9XCc4aeOAW_R90e9CbrjDal5Ncg.PNG/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2024-11-21_131737.png)


[Jiraë¡œ í”„ë¡œì íŠ¸ ê´€ë¦¬í•˜ê¸° Blog](https://everyday-spring.com/626)

</details>


<details> <summary>SWAGGER</summary>

### Swagger

- ì¢€ë” í¸ì•ˆí•œ API í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ Swaggerë¥¼ ë„ì…í•˜ì˜€ìŠµë‹ˆë‹¤
- API ëª©ë¡ì´ ì•ŒíŒŒë²³ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ë˜ë„ë¡ ì¶”ê°€ ì„¤ì •ì„ í•˜ì˜€ìŠµë‹ˆë‹¤

![Swagger_API](https://g-cbox.pstatic.net/MjAyNDExMjFfODYg/MDAxNzMyMTYyODk2ODEw.ENov1JgrjEIMPxkHeYmBpxBVUs9VrZIvttgMTybO0qUg.ghIwmCI8tVSUwNZMreYjq9XtPDOfgCdBFVz_6Zl-hwIg.PNG/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2024-11-21_132055.png)

- DTOì˜ inner class êµ¬ì¡°ë¥¼ ì‚­ì œí•˜ê³  Sample dataë¥¼ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.

![Swagger_sample_data](https://g-cbox.pstatic.net/MjAyNDExMjFfMjU2/MDAxNzMyMTYyOTA1Njg3.HSlfdyH4pgD0olN5ixaUY1iFWwvKNPZdkQOnH5kNqyUg.kSxjxT3-X-34iF68FZ6O5Nq0IoW_Wd9sd25p2uTSBwAg.PNG/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2024-11-21_132118.png)

[Java SpringBoot Swagger Blog](https://everyday-spring.com/625)

</details>


<details> <summary>AWS S3 File Upload</summary>

- ê³µì—° ë“±ë¡ ì‹œ ê³µì—° í¬ìŠ¤í„° S3ì— ì—…ë¡œë“œ ê¸°ëŠ¥
- ê³µì—° ì‚­ì œ ì‹œ í¬ìŠ¤í„° ë™ì‹œ ì‚­ì œ
- í¬ìŠ¤í„° ìˆ˜ì • ì‹œ S3ì— ìˆë˜ ê¸°ì¡´ ì´ë¯¸ì§€ê°€ ì‚­ì œëœ í›„ ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¡œ êµì²´ ê¸°ëŠ¥
- S3 ì´ë¯¸ì§€ ì²¨ë¶€íŒŒì¼ ì˜¬ë¼ê°„ ëª¨ìŠµ
  ![S3ë²„í‚·](img.png)

</details>


<details> <summary>toss payments ê²°ì œ API ì—°ë™</summary>

Toss Paymentsì—ì„œ ì œê³µí•˜ëŠ” APIê°€ ì‚¬ìš©í•˜ê¸° ì‰½ê²Œ ë˜ì–´ìˆë‹¤.<br>
í† ìŠ¤í˜ì´ì˜ ì ˆì°¨ëŠ” ì•„ë˜ ì‚¬ì§„ê³¼ ê°™ì´ ì´ë£¨ì–´ì ¸ìˆë‹¤.<br>
![í† ìŠ¤ ê²°ì œ ì ˆì°¨](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcNmDms%2FbtsKhpnqeWa%2FcurhwWKSLpzzy4ilgqln21%2Fimg.png)

Tossì—ì„œ ì œê³µí•´ì£¼ëŠ” í…œí”Œë¦¿ì„ ì—´ë©´ ì´ë ‡ê²Œ htmlë“¤ê³¼ Controllerë¥¼ ì œê³µí•´ì¤€ë‹¤.<br>
![í…œí”Œë¦¿](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcFJhZx%2FbtsKgaEY4Gr%2FdNA3GfsXLbFMCBQM1Xhi10%2Fimg.png)

ì²˜ìŒì— ê²°ì œìœ„ì ¯ìœ¼ë¡œ ì§„ì…í•˜ê¸° ì „ ì „ë‹¬í•  ë°ì´í„°ë¥¼ ì„¸íŒ…í•´ì„œ Payment í…Œì´ë¸”ì— ê¸°ë³¸ì ì¸ ê°’ë“¤ì„ ì €ì¥í•´ì£¼ê³ 
ê²°ì œìœ„ì ¯ì— í•„ìš”í•œ ê°’ë“¤ì„ Return ê°’ìœ¼ë¡œ ì „ë‹¬í•´ì¤¬ë‹¤.<br>
![ë¦¬í„´ ê°’ ì´ë¯¸ì§€](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FGv9D9%2FbtsKQ6N9VPv%2FeJNmer56J5Zo44QOORu6vK%2Fimg.png)

ê·¸ë¦¬ê³  Return ê°’ì€ Modelì— ë„£ì€í›„ Springì˜ **Thymleaf**ë¥¼ ì´ìš©í•˜ì—¬ htmlì—ì„œ ê°’ì„ ë¶ˆëŸ¬ì™”ë‹¤.<br>
![modelë¡œ ê°’ ì „ë‹¬](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FG5bSg%2FbtsKQDL7XgY%2F71tYBCz3KUtSZhDSj1W1Yk%2Fimg.png)

ì•„ë˜ì™€ ê°™ì´ ì“°ë©´ Modelì— ìˆëŠ” ê°’ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤.<br>
![Thymleafë¡œ ê°’ ë¶ˆëŸ¬ì˜¤ê¸°](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbyVEV8%2FbtsKh01Bu0c%2FDUEoPuX0CAOBUwKBj9Utj0%2Fimg.png)

ê²°ì œìœ„ì ¯ì˜ **ê²°ì œí•˜ê¸°**ë¥¼ ëˆ„ë¥´ë©´ checkout.htmlì˜ 'widgets.requestPayment'ë¥¼ í†µí•´ ê²°ì œì°½ì„ ìš”ì²­í•œë‹¤.<br>
![widget ì´ë¯¸ì§€](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FHn59g%2FbtsKQBt54nU%2FbDokeAO17rEuZVXT9SQVjk%2Fimg.png)

Tossì—ì„œëŠ” ì¤‘ê°„ì— ê²°ì œ ê°€ê²©ì„ ì¡°ì •í•˜ì—¬ ì•…ì˜ì ìœ¼ë¡œ ì´ìš©í•  ìˆ˜ ìˆë‹¤ê³  í•˜ì—¬ ìš”ì²­ì„ ë³´ë‚¼ ë‹¹ì‹œì˜ orderId, amountì™€
Returnìœ¼ë¡œ ë°›ì€ orderId, amountë¥¼ ë¹„êµí•˜ì—¬ ì¼ì¹˜ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•˜ê¸° ë•Œë¬¸ì—
ê²°ì œ ìŠ¹ì¸ ì ˆì°¨ì— ì§„ì…í•˜ê¸° ì „ì— ê°€ê²©ì„ ê²€ì¦í•˜ì˜€ë‹¤.
ì•„ê¹Œ Payment í…Œì´ë¸”ì— ì €ì¥í•´ë†“ì€ orderId, amountë¥¼ ë¶ˆëŸ¬ì™€ Returnìœ¼ë¡œ ë°›ì€ ê°’ê³¼ ë¹„êµë¥¼ ì§„í–‰í•œë‹¤.<br>
![ê²€ì¦ ì´ë¯¸ì§€](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fbb0jdw%2FbtsKQGITmS0%2FN6v40uHIMOa4U6YW40XXwK%2Fimg.png)

ê·¸ë ‡ê²Œ ìµœì¢…ì ìœ¼ë¡œ ìŠ¹ì¸ë˜ë©´ ì•„ë˜ì™€ ê°™ì´ Json í˜•ì‹ìœ¼ë¡œ ê°’ë“¤ì„ Returní•´ì¤€ë‹¤.<br>
![ê²°ì œ ìŠ¹ì¸ ì´ë¯¸ì§€](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FceC3y3%2FbtsKgef7pyp%2F4rX8Uwyctvkr96bb8lSjq0%2Fimg.png)

</details>


<details> <summary>Jenkins CI/CD</summary>

### Window PCì— Docker, jenkins ì„¤ì¹˜, GitHub ì—°ë™í•˜ê¸°

- window í™˜ê²½ì—ì„œ Jenkins í™˜ê²½ì„ êµ¬ì„±í•˜ì—¬ ë°°í¬ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤

![í„°ë¯¸ë„ì—ì„œ ë„ì»¤ ì»¨í…Œì´ë„ˆ ì‹¤í–‰](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbC3EdK%2FbtsKnFXc1Xl%2FYuAtZ1hBEkKRxcb5km3H10%2Fimg.png)
![ì •ìƒì ìœ¼ë¡œ ì—°ê²°ëœ ì  í‚¨ìŠ¤](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbjfzW8%2FbtsKl6BKLBs%2FmWzKjOkrxfUEp8lc7jpyr0%2Fimg.png)

### AWS EC2ì— Docker Jenkins ì„¤ì¹˜, Github Spring Boot application CI/CD

- EC2ì—ì„œ Jenkins CI/CD í™˜ê²½ì„ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤
- Docker - Jenkins êµ¬ì¡°ì˜ ìµœì†Œ ìš”êµ¬ ì„±ëŠ¥ì„ ë°˜ì˜í•˜ì—¬ t3.small ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤
- Docker not found
    - Docker ëª…ë ¹ì–´ë¥¼ ì°¾ì§€ ëª»í•´ ë°œìƒí•˜ëŠ” ë¬¸ì œ
    - Jenkins ë‚´ì— Dockerë¥¼ ì¶”ê°€ ì„¤ì¹˜í•˜ì—¬ Docker in Docker êµ¬ì¡°ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤
- ì¶”ê°€ì ì¸ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš© í•  ìˆ˜ ìˆë„ë¡ ë©”ëª¨ë¦¬ ìŠ¤ì™‘ ì„¤ì •ë„ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.

![ec2_instance_type](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FQUUa3%2FbtsKtNvFdDM%2FKCnGUwP01CkzMfyB7P5Me0%2Fimg.jpg)

![jenkins_pipeline_setting](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FrXrF9%2FbtsKtJ70cSY%2FpSMCHvEQ48aUVNAtOgRz71%2Fimg.png)

![jenkins_deploy](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbtzsIf%2FbtsKtFET9jR%2FNlcHtt8PZICWdbmyDmKJj1%2Fimg.png)

### CI/CD íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

#### *Jenkins Spring Boot build ë¬´í•œë¡œë”©*

EC2 Instanceì— ì„¤ì¹˜ëœ Jenkinsì—ì„œ ë¹Œë“œë¥¼ í•˜ê²Œ ë˜ë©´ ì¤‘ê°„ì— ë¡œë”©ì´ ê¸¸ì–´ì§€ë©´ì„œ ì„œë²„ ìì²´ê°€ ë¨¹ì´ì´ ë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤

Console Outputì„ ì‚´í´ë³´ë©´ GitHubì—ì„œ ëŒ€ìƒ branchë¥¼ cloneí•´ì˜¤ëŠ” ê²ƒ ê¹Œì§€ëŠ” ì‘ë™ í–ˆìœ¼ë‚˜

applicationì„ buildí•´ì„œ jar íŒŒì¼ì„ ë§Œë“¤ë•Œ ë¬´í•œë¡œë”©ì— ê±¸ë¦¬ëŠ” í˜„ìƒì´ì—ˆìŠµë‹ˆë‹¤

ë¡œë”©ì— ê±¸ë ¤ë²„ë¦¬ë©´ Jenkins í˜ì´ì§€ë„ ì ‘ì†ì´ ì•ˆë˜ê³  í„°ë¯¸ë„ë¡œ ì„œë²„ì— ì—°ê²°ì¡°ì°¨ ë˜ì§€ ì•Šì•˜ê³ ,

30ë¶„ì´ìƒ ê¸°ë‹¤ë ¤ë„ ë¬´í•œ ë¡œë”©ìƒíƒœì—¬ì„œ ê²°êµ­ EC2 Instance ìì²´ë¥¼ ì¤‘ì§€í•˜ê³  ì¬ì‹œì‘ í•´ì•¼í–ˆìŠµë‹ˆë‹¤

ê³„ì†í•´ì„œ ì‹œë„ë¥¼ í•´ë´¤ì§€ë§Œ build ê³¼ì •ì—ì„œ ê³„ì† ë¨¹í†µì´ ëê³  Instanceë¥¼ ì¤‘ì§€í•˜ëŠ” ê²ƒë„ ê¸¸ê²ŒëŠ” 10ë¶„ì •ë„ ì‹œê°„ì´ ì§€ì²´ë˜ì—ˆìŠµë‹ˆë‹¤

ë¬¸ì œëŠ” *ë¦¬ì†ŒìŠ¤ ë¶€ì¡±ìœ¼ë¡œ ì¸í•œ ë¹Œë“œì‹¤íŒ¨*ë¡œ ìµœì†Œ 2v CPU, 2~4 GiB Memoryê°€ í•„ìš”í•œ ìƒí™©ì´ì—ˆìŠµë‹ˆë‹¤

*ê²°êµ­ Instanceë¥¼ t3.smallë¡œ ìƒˆë¡œ ë§Œë“¤ì–´ í•´ê²°í–ˆìŠµë‹ˆë‹¤*

#### *Spring Boot Spotless Plugin build resource*

EC2 ì‚¬ì–‘ì„ ì˜¬ë ¸ëŠ”ë°ë„ build ê³¼ì •ì—ì„œ ë¨¹í†µì´ ë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤

build ê³¼ì •ì—ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ ë§ì´ ì¡ì•„ë¨¹ëŠ” *Spotless í”ŒëŸ¬ê·¸ì¸*ì´ ë¬¸ì œ ì›ì¸ì´ì—ˆìŠµë‹ˆë‹¤

ì»´íŒŒì¼ ì‹œë§ˆë‹¤ ë™ì‘í•˜ë©´ì„œ ì „ì²´ íŒŒì¼ì„ ì ê²€í•˜ê¸° ë•Œë¬¸ì— ë§ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ì¡ì•„ë¨¹ëŠ” ìƒí™©ìœ¼ë¡œ,

*í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•  ë•Œì—ë§Œ ì£¼ì„ì„ í•´ì œí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤

Jenkins CI/CD ë¸”ë¡œê·¸

[ (1) ](https://everyday-spring.com/628)
[ (2) ](https://everyday-spring.com/629)
[ (3) ](https://everyday-spring.com/630)
[ (4) ](https://everyday-spring.com/631)
[ (5) ](https://subin0522.tistory.com/632)
[ (6) ](https://subin0522.tistory.com/633)
[ (7) ](https://everyday-spring.com/634)

</details>


<details> <summary>Redis - ë™ì‹œì„± ì œì–´</summary>

### ë™ì‹œì„± ì œì–´ë¥¼ ìœ„í•œ ë½ ì ìš©

- ì„ ì°©ìˆœ ì¿ í°ì„ ë°œê¸‰í•˜ëŠ” ê³¼ì •ì—ì„œ ë™ì‹œì— ë§ì€ ìš”ì²­ì´ ë“¤ì–´ì˜¬ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë™ì‹œì„± ì œì–´ì˜ í•„ìš”ì„±ì´ ìˆë‹¤ê³  ìƒê°í•˜ì˜€ê³ 
  ì´ë¥¼ ìœ„í•´ ë‹¤ìŒ ì„¸ ê°€ì§€ ë½ ë°©ì‹ì„ ì ìš© ë° í…ŒìŠ¤íŠ¸í•˜ì—¬ ê°€ì¥ íš¨ìœ¨ì ì¸ ë°©ì‹ì„ ì°¾ê³ ì í•œë‹¤.
1. ë‚™ê´€ì  ë½ :


- ë‚™ê´€ì  ë½ì€ ë°ì´í„°ë² ì´ìŠ¤ì˜ ë ˆì½”ë“œì— ë²„ì „ ì •ë³´ë¥¼ ë‘ì–´ ë°ì´í„°ì˜ ì¶©ëŒì´ ë°œìƒí•˜ì§€ ì•Šì„ ê²ƒì´ë¼ê³  ê°€ì •í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìˆ˜ì • ì‹œì ì— ë°ì´í„°ì˜
  ë²„ì „ì´ ì¼ì¹˜í•˜ëŠ” ì§€ë¥¼ í™•ì¸í•˜ì—¬ ë§Œì•½ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ ì˜ˆì™¸ë¥¼ ë°œìƒ
- ì¥ì ìœ¼ë¡œëŠ” íŠ¸ëœì­ì…˜ì´ ì§§ê³  ì¶©ëŒì´ ì ì€ í™˜ê²½ì—ì„œëŠ” ì„±ëŠ¥ì´ ë›°ì–´ë‚˜ë©°, ë½ì„ ì‚¬ìš©í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë†’ì€ ë™ì‹œì„±ì„ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.
-  JPAì˜ @Version ì• ë„ˆí…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì¿ í° ì—”í‹°í‹°ì— Versioní•„ë“œë¥¼ ì¶”ê°€í•˜ê³ , ì´ë¥¼ í†µí•´ ì¶©ëŒì„ ê°ì§€í•œë‹¤.


2. ë¹„ê´€ì  ë½ :


- ë°ì´í„°ì˜ ìˆ˜ì •ì´ ì¼ì–´ë‚  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤ê³  ê°€ì •í•˜ì—¬ ë ˆì½”ë“œë¥¼ ìˆ˜ì •í•  ë•Œ ì¦‰ì‹œ ë½ì„ ê±¸ì–´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ì ‘ê·¼í•˜ì§€ ëª»í•˜ë„ë¡ í•˜ëŠ” ë°©ì‹.
- ì¥ì ìœ¼ë¡œëŠ” ë°ì´í„° ì¶©ëŒì´ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ìˆëŠ” ê²½ìš°ì— ìœ ìš©í•˜ë©° íŠ¸ëœì­ì…˜ì˜ ì•ˆì „ì„±ì„ ë³´ì¥.
- PAì˜ @Lock ì• ë„ˆí…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ë ˆí¼ì§€í† ë¦¬ì—ì„œ ì¿ í° ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•  ë•Œ ë¹„ê´€ì  ë½ ëª¨ë“œë¥¼ ì ìš©.


3. ë¶„ì‚° ë½ :


- ë¶„ì‚° ë½ì€ ì—¬ëŸ¬ ì„œë²„ì—ì„œ ë™ì‹œì— ì ‘ê·¼í•˜ëŠ” í™˜ê²½ì—ì„œ ë°ì´í„°ì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ë½ìœ¼ë¡œ Redisì™€ ê°™ì€ ì™¸ë¶€ ì‹œìŠ¤í…œì„ í™œìš©í•˜ì—¬ ë½ì„ ê´€ë¦¬
- ì¥ì ìœ¼ë¡œëŠ” ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë™ì‹œì„± ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìœ¼ë©° ë°ì´í„°ì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.
- Redisì™€ ê°™ì€ ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ë½ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•´ Redisson ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¿ í° ë°œê¸‰ ì‹œ ë¶„ì‚° ë½ì„ ì ìš©.

#### ì¿ í° ë°œê¸‰ í…ŒìŠ¤íŠ¸
íŠ¹ì • ì¿ í° ë°œê¸‰ ì‹œ ë™ì‹œ ìš”ì²­ì´ ë°œìƒí•  ë•Œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œë¥¼ í™•ì¸í•˜ê³ , ì„±ê³µì ìœ¼ë¡œ ë°œê¸‰ëœ ìˆ˜ëŸ‰ê³¼ ì‹¤ì œ ìµœì¢…ì ìœ¼ë¡œ ë°˜ì˜ëœ ë°œê¸‰ ìˆ˜ëŸ‰ì˜ ì°¨ì´ë¥¼ ì ê²€ í•˜ê¸° ìœ„í•´ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰

![í…ŒìŠ¤íŠ¸ í¼](https://blog.kakaocdn.net/dn/z0TQK/btsKydNb8MY/4AJvi7Tk2wEVjCvoKvZhb0/img.png)
1) í…ŒìŠ¤íŠ¸ ì¤€ë¹„:
   testCountëŠ” ì´ 1000ê°œì˜ ë™ì‹œ ìš”ì²­ì„ ì˜ë¯¸
   ExecutorServiceëŠ” 10ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë™ì‹œ ìš”ì²­ì„ í…ŒìŠ¤íŠ¸
   CountDownLatchëŠ” ëª¨ë“  ìŠ¤ë ˆë“œê°€ ì‘ì—…ì„ ì™„ë£Œí•  ë•Œê¹Œì§€ ë©”ì¸ ìŠ¤ë ˆë“œê°€ ëŒ€ê¸°í•˜ë„ë¡ ì„¤ì •.
   AtomicIntegerë¥¼ ì‚¬ìš©í•˜ì—¬ ë°œê¸‰ ì„±ê³µ ì¹´ìš´íŠ¸(atomicInteger)ì™€ ì˜ˆì™¸ ë°œìƒ ì¹´ìš´íŠ¸(atomicexception)ë¥¼ ê¸°ë¡


2) ë™ì‹œ ìš”ì²­ ìƒì„±:
   ê° ìŠ¤ë ˆë“œëŠ” couponService.firstCoupon(authUser, couponId)ë¥¼ í˜¸ì¶œí•˜ì—¬ ì¿ í° ë°œê¸‰ ìš”ì²­ì„ ìˆ˜í–‰
   ìš”ì²­ì´ ì„±ê³µí•˜ë©´ atomicIntegerì˜ ê°’ì„ ì¦ê°€,
   ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ atomicexceptionì˜ ê°’ì„ ì¦ê°€ì‹œí‚¤ë©° ì˜ˆì™¸ ë©”ì‹œì§€ë¥¼ ì¶œë ¥
   finally ë¸”ë¡ì—ì„œ countDownLatch.countDown()ì„ í˜¸ì¶œí•˜ì—¬ í•´ë‹¹ ìŠ¤ë ˆë“œì˜ ì‘ì—… ì™„ë£Œë¥¼ ì•Œë¦°ë‹¤.


3) ê²°ê³¼ ê²€ì¦:
   countDownLatch.await()ë¡œ ëª¨ë“  ìŠ¤ë ˆë“œì˜ ì‘ì—…ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ëŒ€ê¸°
   executorService.shutdown()ì„ í˜¸ì¶œí•˜ì—¬ ìŠ¤ë ˆë“œ í’€ì„ ì¢…ë£Œ
   ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìµœì¢… ì¿ í° ë°œê¸‰ ìˆ˜ëŸ‰ì„ ê°€ì ¸ì™€ì„œ atomicIntegerì™€ ë¹„êµ
   ì„±ê³µí•œ ë°œê¸‰ ìˆ˜ëŸ‰ì´ ì‹¤ì œ ì¿ í°ì˜ currentQuantityì™€ ë‹¤ë¥¸ì§€ í™•ì¸í•˜ì—¬, ë™ì‹œì„± ë¬¸ì œë¡œ ì¸í•œ ë°ì´í„° ë¶ˆì¼ì¹˜ë¥¼ ê²€ì¦
   ![ì¼ë°˜ê²°ê³¼](https://blog.kakaocdn.net/dn/bKUwCE/btsKIScgQVl/FLiWoaWX0ZJ4M6hIkYDRQK/img.png)

- ì¼ë°˜ í…ŒìŠ¤íŠ¸ ê²°ê³¼ :
    -  í…ŒìŠ¤íŠ¸ì˜ ê²°ê³¼ëŠ” ìµœì¢… ë°œê¸‰ëœ ì¿ í°ì˜ ìˆ˜ëŸ‰ 111ê°œ, ì„±ê³µí•œ ë°œê¸‰ ìˆ˜ëŸ‰ì€ 1000ê°œë¡œ ëª©í‘œëŠ” 1000ê°œì˜ ì¿ í° ë°œê¸‰ì´ì—ˆì§€ë§Œ ì‹¤ì§ˆì ìœ¼ë¡œ 111ê±´ ë°–ì— ìœ ì €ë“¤ì—ê²Œ
       ì¿ í°ì´ ë°œê¸‰ ë˜ì§€ ì•Šì•˜ë‹¤. ì´ìœ ë¡œëŠ” ì¿ í° ë°œê¸‰ ë¡œì§ì´ ë§ì€ ì‚¬ìš©ìì˜ ë™ì‹œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì—ì„œ ë™ì‹œì„± ì œì–´ê°€ ì œëŒ€ë¡œ ì´ë£¨ì–´ì§€ì§€ ì•Šì•„,
       ì¼ë¶€ ìš”ì²­ì´ ì¶©ëŒí•˜ì—¬ ì‹¤íŒ¨í–ˆì„ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤. ë½ì´ ê±¸ë¦¬ì§€ ì•Šì€ ìƒíƒœì—ì„œ ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ì´ ë™ì‹œì— ê°™ì€ ì¿ í° ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ë ¤ê³  í•  ë•Œ ë°ì´í„° ì¼ê´€ì„±ì´
       ë³´ì¥ë˜ì§€ ì•Šì•„ ë°œê¸‰ ì‹¤íŒ¨ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë©° ê·¸ ê²°ê³¼ë¡œ 111ê±´ ë§Œì´ ë°œê¸‰ë˜ì§€ ëª»í•˜ì˜€ë‹¤.

#### ë‚™ê´€ì  ë½ ì ìš©
- ë°ì´í„°ê°€ ì¶©ëŒí•˜ì§€ ì•Šì„ ê²ƒì´ë¼ëŠ” ê°€ì • í•˜ì— ë™ì‘ -> ì¦‰, ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ë°ì´í„°ë¥¼ ìˆ˜ì •í•  ê°€ëŠ¥ì„±ì´ ë‚®ë‹¤ê³  ê°€ì •í•˜ê³  ìˆ˜ì •í•  ë•Œê¹Œì§€ ë½ì„
  ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
  ![ë‚™ê´€ì ë½](https://blog.kakaocdn.net/dn/UKoVz/btsKxRjoKwK/fQxgieyiAIkdElwkcnooSk/img.png) ![ê²°ê³¼](https://blog.kakaocdn.net/dn/oDOBh/btsKxQEOBsS/BsV3JbZSHb75z7tGTpIAj1/img.png)
1) ë²„ì „ ê´€ë¦¬ : ì—”í‹°í‹°ì— @Version ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì¿ í° ì—”í‹°í‹°ì— Versioní•„ë“œë¥¼ ì¶”ê°€ ->  DBì—ì„œ ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•  ë•Œ, í˜„ì¬ ë²„ì „ê³¼ ë°ì´í„°ë² ì´ìŠ¤ì˜ ë²„ì „ì´ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸


2) ì¶©ëŒ ê°ì§€ : ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— í•´ë‹¹ ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ì—¬ ë²„ì „ì´ ë³€ê²½ë˜ì—ˆë‹¤ë©´, ì˜ˆì™¸ê°€ ë°œìƒ -> ì¶©ëŒì„ ê°ì§€í•œ ìŠ¤ë ˆë“œëŠ” ì¬ì‹œë„í•˜ê±°ë‚˜ ì˜¤ë¥˜ ì²˜ë¦¬


3) ê²°ê³¼ : ì„œë¹„ìŠ¤ì—ì„œ ë°œê¸‰ëœ ì¿ í° ìˆ˜ëŸ‰ê³¼ ê³ ê°ì´ ìš”ì²­í•œ ì¿ í°ì˜ ìˆ˜ëŸ‰ì€ ì¼ì¹˜ í•˜ì§€ë§Œ, 867ê°œì˜ ì¿ í°ì´ ì˜ˆì™¸ ë°œìƒìœ¼ë¡œ ì¸í•´ ì§€ê¸‰ë˜ì§€ ëª»í•˜ì˜€ë‹¤.


#### ë¹„ê´€ì  ë½ ì ìš©
- ë°ì´í„° ì¶©ëŒì´ ìì£¼ ë°œìƒí•œë‹¤ê³  ê°€ì •í•˜ê³  ë™ì‹œì„±ì„ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë½ì€ íŠ¸ëœì­ì…˜ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ìœ ì§€ë˜ë©°, ì´ë¥¼ í†µí•´ ë°ì´í„°ì˜ ì¼ê´€ì„±ì„ ë³´ì¥í•œë‹¤.

![ë¹„ê´€ì  ë½](https://blog.kakaocdn.net/dn/ALmJx/btsKKhvjSML/XPPme4stjbn5KcIZ2vjw4K/img.png)

1) ë¹„ê´€ì  ë½ ì ìš© :  Repository ë½ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ íŠ¹ì • ë©”ì„œë“œì— @Lock(LockModeType.PESSIMISTIC_WRITE) ì–´ë…¸í…Œì´ì…˜ì„ ì ìš©


2)  ë¹„ê´€ì  ë½ ì˜ë¯¸ : @Lockì„ í†µí•´ ë°ì´í„°ë¥¼ ì¡°íšŒí•œ ì‹œì ì—ì„œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ í•´ë‹¹ ë°ì´í„°ì— ì ‘ê·¼í•˜ì—¬ ë³€ê²½í•  ìˆ˜ ì—†ë„ë¡ ê°•ì œë¡œ ì ê¸ˆì„ ì„¤ì •


3) íŠ¸ëœì­ì…˜ ë²”ìœ„ ë‚´ ë½ ì ìš© : ë¹„ê´€ì  ë½ì€ íŠ¸ëœì­ì…˜ ë²”ìœ„ ë‚´ì—ì„œë§Œ ìœ íš¨ -> íŠ¸ëœì­ì…˜ì´ ì™„ë£Œë˜ë©´ ë½ì´ ìë™ìœ¼ë¡œ í•´ì œë˜ë©°, ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ì ‘ê·¼ê°€ëŠ¥


4) ë°ë“œë½ : ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ì´ ì„œë¡œì˜ ë½ì„ ê¸°ë‹¤ë¦¬ëŠ” ë°ë“œë½ ìƒí™©ë°œìƒ(ëŒ€ê¸°ì‹œê°„ ì´ˆê³¼-PessimisticLockException) ->
   ì ì ˆí•œ íƒ€ì„ì•„ì›ƒ ì„¤ì • ë° ì¬ì‹œë„ ë¡œì§ ì„ í†µí•´ í•´ê²° ê°€ëŠ¥


5) ê²°ê³¼ : ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ì¿ í° ë°œê¸‰ì„ ì‹œë„í•˜ë©´ íŠ¸ëœì­ì…˜ì´ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬ë˜ê¸° ë•Œë¬¸ì— ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë©° íŠ¹íˆ 1000ê°œì˜ ìš”ì²­ì´ í•œêº¼ë²ˆì— ë“¤ì–´ì˜¬ ê²½ìš°
   ë½ìœ¼ë¡œ ì¸í•´ ë°ë“œë½ ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë©° ê·¸ ê²°ê³¼ ë§ì€ ìš”ì²­ì´ ì¶©ëŒí•˜ë©´ì„œ ì¼ë¶€ëŠ” ëŒ€ê¸° ì¤‘ íƒ€ì„ì•„ì›ƒë˜ê±°ë‚˜ ì‹¤íŒ¨í•˜ê³   ìµœì¢… ë°œê¸‰ ìˆ˜ëŸ‰ê³¼ ìš”ì²­ëœ ìˆ˜ëŸ‰ ê°„ ì°¨ì´ê°€ ì•„ë˜ì™€ ê°™ì´ ë°œìƒ í•  ìˆ˜ ìˆë‹¤.

![ë¹„ê´€ì  ë½ ê²°ê³¼](https://blog.kakaocdn.net/dn/dl5NL1/btsKJAJbRPG/LKNqypLVcFNXXXY5kWZk6K/img.png)


#### ë¶„ì‚° ë½ ì ìš©
- ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ë™ì‹œì„± ì œì–´ë¥¼ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë˜ë©° ë¶„ì‚° í™˜ê²½ì—ì„œ ë°ì´í„° ì¼ê´€ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ Redisì™€ ê°™ì€ ì™¸ë¶€ ì‹œìŠ¤í…œì„ ì´ìš©í•´ ë½ì„ ê´€ë¦¬í•˜ëŠ” ë°©ì‹.

![ë¶„ì‚° ë½ aop](https://blog.kakaocdn.net/dn/T8q99/btsKJCGTTd5/Ip42602YYOaRn3oP9mkk8k/img.png)

-  aopë¥¼ ì ìš©í•œ ë½ ë¡œì§ (ì–´ë…¸í…Œì´ì…˜)
1) Redis ê¸°ë°˜ ë½ êµ¬í˜„:

Redisì— ë½ í‚¤ë¥¼ ì €ì¥í•˜ì—¬ ë™ì‹œì„± ì œì–´ë¥¼ ìˆ˜í–‰í•˜ë©° ë½ì˜ í‚¤ëŠ” lock:<key> í˜•ì‹ìœ¼ë¡œ ìƒì„±í•˜ê³  RedissonClientë¥¼ ì‚¬ìš©í•´ ê´€ë¦¬



2) ë½ ì„¤ì • ë° íšë“ :

lock.tryLock() ë©”ì„œë“œë¥¼ í†µí•´ ì§€ì •ëœ ëŒ€ê¸° ì‹œê°„(waitTime)ê³¼ ì„ëŒ€ ì‹œê°„(leaseTime) ë‚´ì— ë½ì„ íšë“ ì‹œë„ í•œë‹¤.

- waitTime: ë½ì„ ê¸°ë‹¤ë¦´ ìµœëŒ€ ì‹œê°„.
- leaseTime: ë½ì„ ìœ ì§€í•  ì‹œê°„.


3) ë½ í•´ì œ ë° ìë™ í•´ì œ :

ë½ í•´ì œëŠ” lock.unlock()ë¥¼ í˜¸ì¶œí•˜ë©° leaseTime ì´ ì´ˆê³¼ë˜ë©´ ìë™ìœ¼ë¡œ í•´ì œë˜ë©°, ë½ì´ í•´ì œê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ
finally ë¥¼ í†µí•´ í•­ìƒ ë½ì„ í•´ì œ í•  ìˆ˜ ìˆë„ë¡ ì§€ì •í•¨.

#### ë¶„ì‚° ë½ ì ìš© :
![ë¶„ì‚° ë½ì ìš© ì´ë¯¸ì§€](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fb02Q9C%2FbtsKKrdsWrv%2FwAkpGmB6wFKDYVvFdVkq21%2Fimg.png)
AOPë¥¼ í†µí•´ ì§€ì •í•œ ì–´ë…¸í…Œì´ì…˜ í¬ì¸íŠ¸ë¥¼ í†µí•´ íŠ¹ì • ì„œë¹„ìŠ¤ ë©”ì„œë“œ ìœ„ì— ë½ ì–´ë…¸í…Œì´ì…˜ê³¼ Key ê°’ì„ ëª…ì‹œí•˜ì—¬ ë™ì‹œì„± ì œì–´ë¥¼ ìˆ˜í–‰ í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.
ì´ë•Œì˜ Key ê°’ì€ ë½ì˜ ê³ ìœ  ì‹ë³„ìë¡œ ì‚¬ìš©ë˜ë©° ì´ë¥¼ í†µí•˜ì—¬ Redisì™€ ê°™ì€ ì™¸ë¶€ ì‹œìŠ¤í…œì—ì„œ ë¶„ì‚° ë½ì„ ê´€ë¦¬í•œë‹¤.

-> ë½ì„ í•„ìš”í•œ ë©”ì„œë“œì—ë§Œ ê°„ë‹¨í•œ ë°©ë²•ìœ¼ë¡œ ì ìš©í•  ìˆ˜ ìˆì–´ ì½”ë“œ ì¤‘ë³µì„ ì¤„ì´ë©° ì„¤ì •ëœ Keyë¥¼ í†µí•´ ê° ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ë½ì„ ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤.

#### ë¶„ì‚°ë½ í…ŒìŠ¤íŠ¸

1) í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì • :

- 30ê°œì˜ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ì¿ í° ë°œê¸‰ì„ ìš”ì²­í•˜ë„ë¡ ì„¤ì •.
- ê°ê°ì˜ ìŠ¤ë ˆë“œëŠ” ê³ ìœ í•œ AuthUser ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ìš”ì²­ ê°„ ì¶©ëŒ ë°©ì§€.

2) í…ŒìŠ¤íŠ¸ ë°ì´í„° :
   ë°œê¸‰ ê°€ëŠ¥í•œ ì¿ í°ì˜ ì´ ìˆ˜ëŸ‰
   10,000ê°œ.

#### ê²°ê³¼
![ë¶„ì‚° ë½ ê²°ê³¼](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F9jeuM%2FbtsKIQy0ksH%2FdSgxPB9sRMagK1AA36K2iK%2Fimg.png)
1) ë°œê¸‰ ìˆ˜ëŸ‰ ì¼ì¹˜ :

- ì„œë¹„ìŠ¤ì—ì„œ ë°œê¸‰ëœ ì¿ í° ìˆ˜ëŸ‰: 10,000ê°œ.
- ê³ ê°ì´ ìš”ì²­í•œ ì¿ í° ìˆ˜ëŸ‰ê³¼ ì •í™•íˆ ì¼ì¹˜í•˜ë©° ì¤‘ë³µ ë°œê¸‰ ì—†ìŒ

2) ë°ë“œë½ ë¯¸ë°œìƒ :

- 30ê°œ ìŠ¤ë ˆë“œì˜ ë™ì‹œ ìš”ì²­ ì²˜ë¦¬ ì¤‘ì—ë„ ë°ë“œë½ì´ë‚˜ íƒ€ì„ì•„ì›ƒ ë°œìƒí•˜ì§€ ì•ŠìŒ

3) ì•ˆì „ì„± í™•ì¸ :

- ë¶„ì‚° ë½ ì ìš©ìœ¼ë¡œ ì¸í•´ ì˜ˆìƒì¹˜ ëª»í•œ ì¿ í° ë°œê¸‰ ì´ˆê³¼ ë¬¸ì œ í•´ê²°
- ê° ìŠ¤ë ˆë“œëŠ” ìˆœì°¨ì ìœ¼ë¡œ ë½ì„ íšë“í•˜ì—¬ ë™ì‹œì„± ë¬¸ì œ ì—†ì´ ì•ˆì •ì ìœ¼ë¡œ ìš”ì²­ ì²˜ë¦¬

</details>


<details>
  <summary>Redis - Caching</summary>

- ë°°ìš° ë‹¨ê±´ ì¡°íšŒ

   <details>
       <summary>ìºì‹± ì „: Average 32, Error 0%</summary>

  ![ìºì‹± ì „ ì´ë¯¸ì§€](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fcen7X9%2FbtsKPgSiDEL%2FtR8hYcOo2bAaw9slhjcGMK%2Fimg.png)
  ![ìºì‹± ì „ ê·¸ë˜í”„](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FArpyG%2FbtsKRxLs9PS%2FPmIG1PPi6KKLRblYhMvdo0%2Fimg.png)

  </details>

  <details>
     <summary>ìºì‹± í›„: Average 7, Error 0%</summary>

  ![ìºì‹± í›„ ì´ë¯¸ì§€](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FW3abg%2FbtsKR3XvRJ2%2FWrsEYChLeRYZljfltkW57K%2Fimg.png)
  ![ìºì‹± í›„ ê·¸ë˜í”„](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FpLbxO%2FbtsKPOnnz2S%2F4XK0aGmAb16lBK5CVaPSO0%2Fimg.png)

  </details>


- ê³µì—° ë‹¨ê±´ ì¡°íšŒ

   <details>
       <summary>ìºì‹± ì „: Average 30, Error 0%  </summary>

  ![ìºì‹± ì „ ì´ë¯¸ì§€](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FKDaEx%2FbtsKR58R7fm%2Fo9zhFyiET3tWGDqr2v97WK%2Fimg.png)
  ![ìºì‹± ì „ ê·¸ë˜í”„](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F5SsZZ%2FbtsKRRJIXSj%2FItWW5d4k79bI22BUiNkEvk%2Fimg.png)

  </details>

  <details>
     <summary> ìºì‹± í›„: Average 14, Error 0%</summary>

  ![ìºì‹± í›„ ì´ë¯¸ì§€](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fb45hcX%2FbtsKQzwmxs6%2FKcNkUty6dFa1ML4giCsYW1%2Fimg.png)
  ![ìºì‹± í›„ ê·¸ë˜í”„](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FP9VJp%2FbtsKRgb706p%2FWhVbTFCRI1yK8XpJ19XvZk%2Fimg.png)
  </details>


- ê³µì—° íšŒì°¨ ì¡°íšŒ

   <details>
       <summary> ìºì‹± ì „: Average 25, Error 0% </summary>

  ![ìºì‹± ì „ ì´ë¯¸ì§€](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FZgCuN%2FbtsKPhjfC4j%2Fxn51iJOoh016xTnkjddYxk%2Fimg.png)
  ![ìºì‹± ì „ ê·¸ë˜í”„](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbzXDUB%2FbtsKPGJ0Y4s%2Fkt0nbgiP0VQ2wvYn0mRwB1%2Fimg.png)

  </details>

  <details>
     <summary>ìºì‹± í›„: Average 12, Error 0%</summary>

  ![ìºì‹± í›„ ì´ë¯¸ì§€](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FxUYhe%2FbtsKRSojJE2%2FaM7ccg7qg2VbAL7xAkCip1%2Fimg.png)
  ![ìºì‹± í›„ ê·¸ë˜í”„](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbuK0AT%2FbtsKQgREgRx%2FEYKSIrrpTVgSjQpRJ5B5o0%2Fimg.png)
  </details>


- ê³µì—° ê´€ëŒí‰ ì¡°íšŒ

   <details>
       <summary> ìºì‹± ì „: Average 17369, Error 0% </summary>

  ![ìºì‹± ì „ ì´ë¯¸ì§€](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbgBZgh%2FbtsKPBhCTDv%2FUoM0OKH3hkD62TXgDgLbCk%2Fimg.png)
  ![ìºì‹± ì „ ê·¸ë˜í”„](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fze7lA%2FbtsKRogMbQA%2F6ZkRNnhWV2uTKpXcRKOxF1%2Fimg.png)

  </details>

  <details>
     <summary> ìºì‹± í›„: Average 19, Error 0%</summary>

  ![ìºì‹± í›„ ì´ë¯¸ì§€](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fc6z6xL%2FbtsKQLpXFWe%2FqoFIEGykvW7WKo9k6jhCN1%2Fimg.png)
  ![ìºì‹± í›„ ê·¸ë˜í”„](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FoCcm7%2FbtsKPUOPkct%2FVoaRKuROYppMp4nGLEONpK%2Fimg.png)
  </details>


- ê³µì—° ì¶œì—°ì ì¡°íšŒ

   <details>
       <summary>  ìºì‹± ì „: Average 26, Error 1.04%   </summary>

  ![ìºì‹± ì „ ì´ë¯¸ì§€](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FwmBUB%2FbtsKPyFuHDp%2FdIK6JSYhZZl98UpmgYfQhk%2Fimg.png)
  ![ìºì‹± ì „ ê·¸ë˜í”„](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Flt3CP%2FbtsKQrL3Des%2F4BeU9pyU38jlZ3R9JSymsk%2Fimg.png)

  </details>

  <details>
     <summary>ìºì‹± í›„: Average 14, Error 0%</summary>

  ![ìºì‹± í›„ ì´ë¯¸ì§€](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FetO397%2FbtsKRdmaiAf%2Fcye4DnT5kKo8FBABuAJWyK%2Fimg.png)
  ![ìºì‹± í›„ ê·¸ë˜í”„](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcuuDXS%2FbtsKQ8kYjgj%2F4dpSu9r3wKLB93gAOR7WJk%2Fimg.png)
  </details>


- ê³µì—°ì¥ ë‹¨ê±´ ì¡°íšŒ

   <details>
       <summary> ìºì‹± ì „: Average 148, Error 9.55%   </summary>

  ![ìºì‹± ì „ ì´ë¯¸ì§€](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FETGnP%2FbtsKQ4iBAe9%2FB4gZhj8jsUMrW0AMjYXdZK%2Fimg.png)
  ![ìºì‹± ì „ ê·¸ë˜í”„](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FUe0l1%2FbtsKRoujH5T%2FmjdE7qUlVMghiM67heaxo1%2Fimg.png)

  </details>

  <details>
     <summary> ìºì‹± í›„: Average 12, Error 0%</summary>

  ![ìºì‹± í›„ ì´ë¯¸ì§€](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbS4HZy%2FbtsKRS2WMt8%2FsfKTLrMnXHUMkkGkyEIejK%2Fimg.png)
  ![ìºì‹± í›„ ê·¸ë˜í”„](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fcs9Hb0%2FbtsKPBaU7ow%2FtO0Qx4RqO0OoPjqckRQvHk%2Fimg.png)
  </details>

</details>


<details> <summary>Elasticsearch</summary>

### elastic í™˜ê²½ì„¤ì • ë° ê²€ìƒ‰ apiêµ¬í˜„ê³¼ì •
#### elastic ë„ì… ë°°ê²½
ElasticSearchëŠ” ë¹ ë¥´ê³  ì •í™•í•œ ê²€ìƒ‰ì´ í•„ìš”í•œ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤.
ì €í¬ í”„ë¡œì íŠ¸ì—ì„œëŠ” ê²€ìƒ‰ ì†ë„ì™€ ì •í™•ì„±ì„ ìµœì í™”í•˜ê¸° ìœ„í•´ ë„ì…í–ˆìœ¼ë©°, ì£¼ìš” ë„ì… ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

- ì˜ˆì•½ ê²€ìƒ‰ ìµœì í™”: ì‚¬ìš©ì ì˜ˆì•½ ì •ë³´ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê²€ìƒ‰í•˜ê¸° ìœ„í•œ ì „ìš© ê²€ìƒ‰ ì—”ì§„ í•„ìš”.
- ë°ì´í„° ë¶„ì„ í™•ì¥ì„±: ë‹¨ìˆœ ê²€ìƒ‰ë¿ë§Œ ì•„ë‹ˆë¼, ì˜ˆì•½ ë°ì´í„°ì˜ ë‹¤ì–‘í•œ ë¶„ì„ì´ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„.
- í™•ì¥ ê°€ëŠ¥ì„±: í”„ë¡œì íŠ¸ê°€ í™•ì¥ë˜ë”ë¼ë„ ì„œë²„ë¥¼ ì†ì‰½ê²Œ ì¶”ê°€í•˜ê³  ë°ì´í„°ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ë¶„ì‚° ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°..

#### elasticsearch API êµ¬í˜„
ê²€ìƒ‰ API
ì˜ˆì•½ ê²€ìƒ‰ APIë¥¼ êµ¬í˜„í•´ ì‚¬ìš©ì ì´ë¦„, ê³µì—° ì œëª©, ë‚ ì§œ, ìƒíƒœ ë“± ë‹¤ì–‘í•œ ì¡°ê±´ìœ¼ë¡œ ê²€ìƒ‰ ê°€ëŠ¥í•˜ë„ë¡ ê°œë°œ.

- ì‚¬ìš©í•œ ê¸°ìˆ : Criteria APIë¥¼ ì´ìš©í•œ ì •ì  ì¿¼ë¦¬ ìƒì„±.
- êµ¬í˜„ ë°©ì‹:
  ì˜ˆì•½ ì •ë³´ í•„í„°ë§.
  ë°ì´í„° ë™ê¸°í™” ê¸°ëŠ¥ êµ¬í˜„.

- api
  ![image](https://github.com/user-attachments/assets/223ffbba-7c80-4622-b044-19d49159017d)
  ![image](https://github.com/user-attachments/assets/d1ba2880-ee51-49f6-aedd-2c5d1102c666)

- index
  ![image](https://github.com/user-attachments/assets/059969de-6a28-4397-ba2e-380ca11beedb)
  ![image](https://github.com/user-attachments/assets/5631fd1e-7a10-4cbf-91f4-ca0a20efb5c0)

- data
  ![image](https://github.com/user-attachments/assets/a4163210-e8d3-4330-818f-ba7fb2d5846c)

#### ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë° ê°œì„  ë°©í–¥
Elasticsearchë¥¼ ë„ì…í•œ ë’¤, ì‹¤ì œ í™˜ê²½ì—ì„œì˜ ì„±ëŠ¥ì„ ì ê²€í–ˆìŠµë‹ˆë‹¤.
ë‹¤ì–‘í•œ ì¡°ê±´ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ë©° MySQLê³¼ ì†ë„ë¥¼ ë¹„êµí–ˆê³ , ì„±ëŠ¥ ë³‘ëª© í˜„ìƒì„ ì‹ë³„í•´ ìµœì í™”í–ˆìŠµë‹ˆë‹¤.

- ì„±ëŠ¥ ì´ìŠˆ ë° ëŒ€ì‘
  ì´ìŠˆ: MySQLë³´ë‹¤ Elasticsearchì˜ ì†ë„ê°€ ëŠë¦° ë¬¸ì œ ë°œê²¬.
  ì›ì¸:
  ì¸ë±ìŠ¤ ì„¤ì • ìµœì í™” ë¶€ì¡±.
  ë°ì´í„°ê°€ ë¶„ì‚°ë˜ì§€ ì•Šì€ ë‹¨ì¼ ë…¸ë“œ êµ¬ì„±.
  ëŒ€ì‘ ë°©ì•ˆ:
  ì—­ìƒ‰ì¸ ìµœì í™”.
  ìƒ¤ë“œ ë¶„ì‚° êµ¬ì„± ë° í´ëŸ¬ìŠ¤í„° í™•ì¥.
- admin/search ì„±ëŠ¥
  ![image](https://github.com/user-attachments/assets/ef56629d-5ed4-4132-aab1-a8f4b428e038)
- search/keyword ì„±ëŠ¥
  ![image](https://github.com/user-attachments/assets/bc54aea2-6600-4737-9525-efc4077bb30c)


### elastic api ì„±ëŠ¥ë¹„êµ ë° grafna ì´ìš©í•œ ëª¨ë‹ˆí„°ë§
Elasticsearch(ES) ê¸°ë°˜ APIì™€ MySQL ê¸°ë°˜ APIì˜ ì„±ëŠ¥ì„ ë¹„êµí•˜ê³ , ë†’ì€ ë¶€í•˜ ì¡°ê±´ì—ì„œì˜ ì•ˆì •ì„±ì„ í‰ê°€í•˜ê¸° ìœ„í•´ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.
ì„±ëŠ¥ í‰ê°€ëŠ” ì•„ë˜ ì§€í‘œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì´ë£¨ì–´ì¡ŒìŠµë‹ˆë‹¤:
- í‰ê·  ì‘ë‹µ ì‹œê°„: ê° APIì˜ ìš”ì²­ ì²˜ë¦¬ ì†ë„ ë¹„êµ.
- ì´ˆë‹¹ ì²˜ë¦¬ëŸ‰(QPS): ë¶€í•˜ ì¦ê°€ ì‹œ APIê°€ ì²˜ë¦¬ ê°€ëŠ¥í•œ ìš”ì²­ ìˆ˜.
- CPU ì‚¬ìš©ëŸ‰: ìì› íš¨ìœ¨ì„±ì„ í‰ê°€.
- ì•ˆì •ì„± í‰ê°€: ë™ì‹œ ì‚¬ìš©ìê°€ ë§ì•„ì§ˆìˆ˜ë¡ ì„±ëŠ¥ ë³€í™” í™•ì¸.
#### í…ŒìŠ¤íŠ¸ ê²°ê³¼
![image](https://github.com/user-attachments/assets/4c01bad4-1aa6-4c6f-af22-6346b02366c9)
![image](https://github.com/user-attachments/assets/13cd51c3-246c-42e1-9b90-07d791d9c815)
![image](https://github.com/user-attachments/assets/1e72e000-158d-4eee-a6fc-6978d9e5dc4d)

#### í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë¶„ì„
- í‰ê·  ì‘ë‹µ ì‹œê°„
  APIë³„ í‰ê·  ì‘ë‹µ ì‹œê°„ì„ ë¹„êµí•œ ê²°ê³¼, ì•„ë˜ì™€ ê°™ì€ ì°¨ì´ê°€ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤:

/search/filterì™€ ê°™ì€ ë‹¨ìˆœ ì¿¼ë¦¬ëŠ” MySQL ê¸°ë°˜ APIê°€ ë” ë¹ ë¥¸ ì‘ë‹µ ì‹œê°„ì„ ê¸°ë¡.
/admin/searchì™€ ê°™ì€ ë³µí•© ì¿¼ë¦¬ì—ì„œëŠ” Elasticsearchì˜ ì„±ëŠ¥ì´ ë” ìš°ìˆ˜í•  ê²ƒìœ¼ë¡œ ê¸°ëŒ€í–ˆì§€ë§Œ, í…ŒìŠ¤íŠ¸ ë°ì´í„°ì˜ ì˜í–¥ìœ¼ë¡œ ì°¨ì´ê°€ í¬ì§€ ì•Šì•˜ìŒ.
- ì´ˆë‹¹ ì²˜ë¦¬ëŸ‰(Throughput)
  ë™ì‹œ ì‚¬ìš©ìê°€ ì¦ê°€í–ˆì„ ë•Œ QPSëŠ” ì¼ì • ìˆ˜ì¤€ ìœ ì§€ë˜ì—ˆìœ¼ë‚˜, ElasticsearchëŠ” íŠ¹ì • ì‹œì ì—ì„œ ì•½ê°„ì˜ ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒ.
  MySQLì€ ë°ì´í„° í¬ê¸°ê°€ ì‘ì„ ê²½ìš° Elasticsearchë³´ë‹¤ ë†’ì€ QPSë¥¼ ê¸°ë¡.
- í˜¸ì¶œ íŠ¸ë˜í”½ ë¶„í¬
  ë‹¨ìˆœ ì¿¼ë¦¬(/search/filter, /search/reservations)ì™€ ë³µí•© ì¿¼ë¦¬(/admin/search)ì˜ í˜¸ì¶œ ë¹„ìœ¨ì„ ë¶„ì„í•œ ê²°ê³¼, ë³µí•© ì¿¼ë¦¬ APIì—ì„œ ë¶€í•˜ê°€ ë” ì§‘ì¤‘ë˜ëŠ” ê²½í–¥ì´ ë‚˜íƒ€ë‚¨.
- CPU ì‚¬ìš©ëŸ‰
  ElasticsearchëŠ” ë³µí•© ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•  ë•Œ CPU ìì›ì„ ë” ë§ì´ ì‚¬ìš©.
  ë„¤íŠ¸ì›Œí¬ ì˜¤ë²„í—¤ë“œì™€ ë°ì´í„° ì§ë ¬í™”/ì—­ì§ë ¬í™”ë¡œ ì¸í•œ ìì› ì‚¬ìš©ëŸ‰ ì¦ê°€ ê°€ëŠ¥ì„± í™•ì¸.

#### Elasticsearch ì†ë„ ì €í•˜ ì›ì¸ ë¶„ì„
1. ë°ì´í„° í¬ê¸°
   í…ŒìŠ¤íŠ¸ ë°ì´í„° í¬ê¸°: ì‘ì€ ë°ì´í„°ì…‹ì—ì„œëŠ” MySQLì´ Elasticsearchë³´ë‹¤ íš¨ìœ¨ì .
   ì‹¤ì œ ìš´ì˜ ë°ì´í„°: ëŒ€ê·œëª¨ ë°ì´í„°ì—ì„œëŠ” Elasticsearchì˜ ì¥ì ì´ ë°œíœ˜ë  ê°€ëŠ¥ì„±ì´ ë†’ìŒ.
2. Elasticsearch ì¿¼ë¦¬ ë³µì¡ë„
   ë³µì¡í•œ ì¡°í•©ì˜ ì¿¼ë¦¬(ì˜ˆ: filter, match, sort, aggregation)ì—ì„œ ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒ ê°€ëŠ¥.
   ì¿¼ë¦¬ ìµœì í™”ê°€ ë¯¸í¡í–ˆì„ ê°€ëŠ¥ì„± ì¡´ì¬.
3. ë„¤íŠ¸ì›Œí¬ ì˜¤ë²„í—¤ë“œ
   ElasticsearchëŠ” HTTP í†µì‹ ì„ ì‚¬ìš©í•˜ë¯€ë¡œ, ë„¤íŠ¸ì›Œí¬ ì§€ì—°ì´ ë°œìƒ.
   Docker ê¸°ë°˜ ë¡œì»¬ í™˜ê²½ì—ì„œë„ ì´ë¡œ ì¸í•œ ì§€ì—° ë°œìƒ ê°€ëŠ¥.
4. Elasticsearch ì¸ë±ìŠ¤ ì„¤ì •
   refresh_interval, number_of_shards, number_of_replicas ë“±ì˜ ì„¤ì •ì´ ê¸°ë³¸ê°’ìœ¼ë¡œ ë˜ì–´ ìˆì–´ ìµœì í™”ë˜ì§€ ì•Šì•˜ì„ ê°€ëŠ¥ì„±.

#### ê°œì„  ë°©í–¥ ë° ì¶”ê°€ í…ŒìŠ¤íŠ¸ ê³„íš
1. ë°ì´í„°ì…‹ í™•ì¥
   ìš´ì˜ í™˜ê²½ê³¼ ìœ ì‚¬í•œ ëŒ€ê·œëª¨ ë°ì´í„°ì…‹ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ì—¬ ì‹¤ì œ ì„±ëŠ¥ì„ í™•ì¸.
2. ì¿¼ë¦¬ ìµœì í™”
   ë¶ˆí•„ìš”í•œ aggregationê³¼ sorting ì œê±°.
   í•„í„°ë§ ìœ„ì£¼ì˜ ì¿¼ë¦¬ êµ¬ì¡°ë¡œ ë³€ê²½í•˜ì—¬ ì„±ëŠ¥ í–¥ìƒ.
3. Elasticsearch ì¸ë±ìŠ¤ ì„¤ì • ìµœì í™”
   number_of_shardsì™€ number_of_replicasë¥¼ í™˜ê²½ì— ë§ê²Œ ì¬ì„¤ì •.
   refresh_intervalì„ ì¡°ì •í•´ ì¸ë±ì‹± ì„±ëŠ¥ ê°œì„ .
4. ë„¤íŠ¸ì›Œí¬ í™˜ê²½ ê°œì„ 
   ë¡œì»¬ í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ ë²—ì–´ë‚˜ ì‹¤ì œ ìš´ì˜ ì„œë²„ í™˜ê²½ì—ì„œ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸.
   ê²°ë¡ 
   í…ŒìŠ¤íŠ¸ ê²°ê³¼, MySQLì€ ì‘ì€ ë°ì´í„°ì…‹ì—ì„œ ë” ë‚˜ì€ ì„±ëŠ¥ì„ ë³´ì˜€ì§€ë§Œ,
   ElasticsearchëŠ” ëŒ€ê·œëª¨ ë°ì´í„° í™˜ê²½ì—ì„œì˜ ì¥ì ì„ ì‚´ë¦´ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.
   í–¥í›„ ì¿¼ë¦¬ì™€ ì¸ë±ìŠ¤ ì„¤ì •ì„ ìµœì í™”í•˜ê³ , ëŒ€ê·œëª¨ ë°ì´í„°ì…‹ìœ¼ë¡œ ì¶”ê°€ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ì˜ˆì •ì…ë‹ˆë‹¤.

</details>


<details> <summary>Alert - AOP</summary>

### AOP ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•Œë¦¼ì„¤ì •

- [ (1) spring ê³¼ slack ì•Œë¦¼ ì—°ë™ - 1](https://k-chongchong.tistory.com/40)
- [ (2) AOPë¥¼ ì‚¬ìš©í•œ ì•Œë¦¼ ì—°ë™ - 2 ](https://k-chongchong.tistory.com/41)
- [ (3) ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜(EDA)ì™€ AOPì˜ ë¹„êµ -3 ](https://k-chongchong.tistory.com/42)

</details>


<details> <summary>Alert - SSE</summary>

ìœ„ì•„ë˜ë¥¼ ë„ìš°ê³  ì—¬ê¸°ì— ë‚´ìš©ì„ ì‘ì„±í•˜ì„¸ìš”
ë§ˆí¬ë‹¤ìš´ ë¬¸ë²•ìœ¼ë¡œ ì‘ì„±í•˜ì‹œë©´ ë©ë‹ˆë‹¤

</details>


<details> <summary>Alert - Mail</summary>

ë©”ì¼ ì„œë²„ê°€ ì—¬ëŸ¬ê°€ì§€ ìˆì§€ë§Œ ë„¤ì´ë²„ì™€ êµ¬ê¸€ì„ ê³ ë¯¼í•˜ë˜ ì¤‘<br>
ê¸€ë¡œë²Œ ì‹œì¥ì„ ê²¨ëƒ¥í•œ(?) êµ¬ê¸€ ì„œë²„ë¥¼ ì‚¬ìš©í–ˆë‹¤.

ìš°ì„  Configë¥¼ ì‘ì„±í•˜ê¸° ì „ì— í•´ì•¼í•  ê²ƒ.
1. Google ë¡œê·¸ì¸ > ë³´ì•ˆ > 2ë‹¨ê³„ ì¸ì¦
2. ì•± ë¹„ë°€ë²ˆí˜¸ ìƒì„±
3. ì•± ë¹„ë°€ë²ˆí˜¸ 16ìë¦¬ ì €ì¥í•˜ê¸°

![í™˜ê²½ë³€ìˆ˜](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fby1TXS%2FbtsKQaqhrCs%2FCVKr9JshJ6QKHuAaHUk7Q0%2Fimg.png)

## 1. build.gradle
implementation 'org.springframework.boot:spring-boot-starter-mail'

## 2. MailConfig
í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í–ˆìœ¼ë©´ ì•„ë˜ì™€ ê°™ì´ Config íŒŒì¼ì„ ì‘ì„±í•´ì¤€ë‹¤.<br>
![Config](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FIqsAp%2FbtsKQ7GkwLn%2FSFXQkrpTuC2ADXi0cdCzl0%2Fimg.png)

## 3. AsyncConfig
ì˜ˆë§¤ë‚˜ ê²°ì œì— ëŒ€í•œ ê²°ê³¼ë¥¼ ë©”ì¼ë¡œ ì•Œë ¤ì£¼ë ¤í•˜ëŠ”ë°, ì´ ë©”ì¼ì€ ì‚¬ì‹¤ ë¶€ê°€ì ì¸ ìš”ì†Œì´ê¸° ë•Œë¬¸ì—
ë©”ì¼ ë°œì†¡ì´ ì‹¤íŒ¨í•˜ë”ë¼ë„ ì˜ˆë§¤ë‚˜ ê²°ì œ ê²°ê³¼ì— ì˜í–¥ì„ ë¼ì³ì„  ì•ˆëœë‹¤.

ë¹„ë™ê¸°ì²˜ë¦¬ë¥¼ í•˜ê²Œë˜ë©´ ë©”ì¸ ì“°ë ˆë“œê°€ ì•„ë‹Œ ë³„ë„ ì“°ë ˆë“œì—ì„œ ë™ì‘í•˜ëŠ”ë°,
ì¼ë°˜ì ìœ¼ë¡œ Springì—ì„œëŠ” íŠ¸ëœì­ì…˜ì´ ì“°ë ˆë“œê°„ ì „íŒŒë¥¼ í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë©”ì¼ì—ì„œ ë¡¤ë°±ì´ ì¼ì–´ë‚˜ë„ ë©”ì¸ ì“°ë ˆë“œì—ëŠ” ì˜í–¥ì´ ì—†ë‹¤.

ê·¸ë¦¬ê³  ë™ê¸°ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ê²Œ ë˜ë©´ ë©”ì¼ ì „ì†¡ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ë©”ì¸ ì“°ë ˆë“œëŠ” ëŒ€ê¸°ë¥¼ í•˜ê²Œ ë˜ëŠ”ë°,
ê·¸ë ‡ê²Œ ë˜ë©´ ë©”ì¸ ì“°ë ˆë“œëŠ” ë‹¤ë¥¸ ì‘ì—…ì„ í•  ìˆ˜ ì—†ê¸°ì— ë©”ì¼ ë°œì†¡ì—ì„œ ë¹„ë™ê¸°ì²˜ë¦¬ëŠ” ì‚¬ì‹¤ìƒ **í•„ìˆ˜**ì¸ ê¸°ëŠ¥ì¸ ì…ˆì´ë‹¤.

ë©”ì¼ ë°œì†¡ì„ ë¹„ë™ê¸°ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ Config íŒŒì¼ì„ ì‘ì„± í›„ ì‚¬ìš©í•˜ê³  ì‹¶ì€ ë©”ì„œë“œì— **@Asnyc** ì–´ë…¸í…Œì´ì…˜ì„ ë‹¬ì•„ì£¼ë©´ ëœë‹¤.<br>
![AsyncConfig](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FeuTxOp%2FbtsKRDEIPk7%2F5GlYX1XzmrFxxTkhKcOAM1%2Fimg.png)

ì²˜ìŒì—ëŠ” ì“°ë ˆë“œ ê°¯ìˆ˜ì™€ Queue ìš©ëŸ‰ì„ ì‘ê²Œ ì„¤ì •í–ˆì—ˆëŠ”ë° Jmeterë¡œ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë‹¤ë³´ë‹ˆ
ì“°ë ˆë“œë„ ì‘ê³  ìš©ëŸ‰ë„ ì‘ì•„ì„œ ì—ëŸ¬ìœ¨ì´ 98% ê°€ëŸ‰ ëì—ˆë‹¤.

Queue ìš©ëŸ‰ì´ í¬ë©´ ì‘ë‹µ ì§€ì—°ì´ ë°œìƒí•˜ê²Œ ë˜ì§€ë§Œ, ì§€ì—°ì´ ë°œìƒí•˜ë”ë¼ë„ ì—ëŸ¬ë¥¼ ì¡ëŠ”ê²Œ ìš°ì„ ì´ë¼ê³  ìƒê°í•´ì„œ
ìš©ëŸ‰ì„ í¬ê²Œ ì¡ì•˜ë‹¤.

ê²°ê³¼ì ìœ¼ë¡  ì—ëŸ¬ìœ¨ì´ 15%ì •ë„ê°€ ë˜ì—ˆëŠ”ë° ì´ê²ƒë„ ë¡œì§ì— ëŒ€í•œ ë¬¸ì œë³´ë‹¨ ì»´í“¨í„° ì‚¬ì–‘, ì¸í„°ë„· ë¬¸ì œë¡œ íŒë‹¨ëœë‹¤.

### **ì“°ë ˆë“œ ìˆ˜ì • ì „**<br>
![ì“°ë ˆë“œ ìˆ˜ì • ì „](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fdh8FU0%2FbtsKRbWjpKa%2FnMksePGOTN1xHwj33hutlk%2Fimg.webp)

### **ì“°ë ˆë“œ ìˆ˜ì • í›„**<br>
![ì“°ë ˆë“œ ìˆ˜ì • í›„](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FRMRYs%2FbtsKPFj0Z2Z%2F48sbDJPHJIJkklnLuywK61%2Fimg.webp)

## 4. EmailService
3ë²ˆì—ì„œ ì„¤ì •í•œ ë¹„ë™ê¸°ëŠ” ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ì´ ì‚¬ìš©í•˜ë ¤ëŠ” ë©”ì„œë“œì— @Asyncì™€ Beanì—ì„œ ì„¤ì •í•œ ì´ë¦„ì„ ë„£ì–´ì£¼ë©´ ëœë‹¤.

JavaMailSenderë¥¼ ì´ìš©í•´ ê°„í¸í•˜ê²Œ ë©”ì¼ì„ ì „ì†¡í•  ìˆ˜ ìˆë‹¤.<br>
![EmailService](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fc009Zg%2FbtsKQajpUwi%2FQaPQvDs4kFumbI8DNnMw81%2Fimg.png)

ë©”ì¼ì— ê´€ë ¨ëœ ì˜ˆì™¸ì²˜ë¦¬ëŠ” êµ¬í˜„í•˜ë ¤ê³  í–ˆì—ˆìœ¼ë‚˜ ì‹¤íŒ¨ë¡œì§ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ëª°ë¼ì„œ ì‹œë„í•˜ë‹¤ê°€
ë§ˆê° ì‹œê°„ ì´ìŠˆë¡œì¸í•´ ì ìš©í•˜ì§€ ëª»í•´ì„œ ì‹œê°„ ì—¬ìœ ê°€ ìƒê¸°ë©´ ë”°ë¡œ êµ¬í˜„í•´ë³´ë ¤ í•œë‹¤.

</details>


<details> <summary>Spring Batch</summary>

ìœ„ì•„ë˜ë¥¼ ë„ìš°ê³  ì—¬ê¸°ì— ë‚´ìš©ì„ ì‘ì„±í•˜ì„¸ìš”
ë§ˆí¬ë‹¤ìš´ ë¬¸ë²•ìœ¼ë¡œ ì‘ì„±í•˜ì‹œë©´ ë©ë‹ˆë‹¤

</details>


<details> <summary>Logstash</summary>

### Logstash í™˜ê²½ì„¤ì •
- https://velog.io/@uara67/Logstash-springboot-í™˜ê²½-êµ¬í˜„í•˜ê¸°ë¡œê·¸ìˆ˜ì§‘í•˜ê¸°-1ì¼ì°¨
- https://velog.io/@uara67/logstash-AOPë¡œ-ë¡œê·¸-ìˆ˜ì§‘í•˜ê¸°


## 1. build.gradle
logbackì„ ì´ìš©í•˜ì—¬ logstashì— ë¡œê·¸ë¥¼ ì „ë‹¬í•  ê²ƒì´ê¸°ì— ì˜ì¡´ì„±ì„ ì¶”ê°€í•´ì¤€ë‹¤. <br>

implementation 'net.logstash.logback:logstash-logback-encoder:7.4'

## 2. logback-spring.xml
### ë¡œê·¸ ê´€ë ¨ ê³ ë ¤í•œ ì 
1. ì˜ˆë§¤, ì¿ í°, ê²°ì œ ê´€ë ¨ ë‚´ì—­ì˜ ë¡œê·¸ë¥¼ ë‚¨ê¸¸ ê²ƒ
2. ELK ì„œë²„ ì™¸ì˜ LOCALì—ë„ ë¡œê·¸ë¥¼ ë‚¨ê¸¸ ê²ƒ
3. ì¿¼ë¦¬ë¬¸ë„ ë¡œê·¸ë¡œ ë‚¨ê¸¸ ê²ƒ

xml íŒŒì¼ì„ ë³´ë©´ localíŒŒì¼ì„ ìƒì„±í•˜ì—¬ ì €ì¥í•˜ëŠ” ë¶€ë¶„ê³¼ ì¿¼ë¦¬ë¬¸ ì „ì†¡í•˜ëŠ” ë¶€ë¶„,
aopë¥¼ ì‚¬ìš©í•´ì„œ í•´ë‹¹ í´ë˜ìŠ¤ì— logstashë¡œ ë¡œê·¸ë¥¼ ì „ì†¡í•˜ëŠ” ë¶€ë¶„ì´ ìˆë‹¤.

<details> <summary> logback-spring.xml </summary>

``` Java
<configuration scan="true" scanPeriod="30 seconds">
    <property resource="application.properties"/>
    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>%d{yyyy-MM-dd HH:mm:ss} %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>

    <!-- ë¡œì»¬ íŒŒì¼ì— ë¡œê·¸ ì €ì¥ ì„¤ì • -->
    <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern> ${LOGSTASH_FILE_PATH} </fileNamePattern>
            <maxHistory>14</maxHistory>
        </rollingPolicy>
        <encoder>
            <pattern>%date %level [%thread] %logger{10} [%file:%line] %msg%n%xThrowable{5}</pattern>
        </encoder>
    </appender>

    <!--  logstash setting  -->
    <appender name="LOGSTASH" class="net.logstash.logback.appender.LogstashTcpSocketAppender">
        <destination> ${LOGSTASH_DESTINATION} </destination>
        <encoder class="net.logstash.logback.encoder.LogstashEncoder" />
    </appender>

    <logger name="com.sparta.projectblue.aop.LogstashAspect" level="DEBUG">
        <appender-ref ref="LOGSTASH" />
        <appender-ref ref="CONSOLE" />
    </logger>

    <logger name="org.hibernate.SQL" level="DEBUG" additivity="false">
        <appender-ref ref="LOGSTASH" />
    </logger>

    <!-- ì „ì²´ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê¹… ì„¤ì • -->
    <root level="INFO">
        <appender-ref ref="CONSOLE" />  <!-- INFOë ˆë²¨ ì´ìƒ ë¡œê·¸ë¥¼ CONSOLEì— ì¶œë ¥ -->
        <appender-ref ref="FILE" />  <!-- INFOë ˆë²¨ ì´ìƒ ë¡œê·¸ë¥¼ Fileì— ê¸°ë¡ -->
    </root>
```
</details>

## 3. LogstashAspect
AOPë°©ì‹ì„ ì‚¬ìš©í•˜ì˜€ê³ , ì–´ë…¸í…Œì´ì…˜ ë°©ì‹ì˜ í¬ì¸íŠ¸ì»·ì„ ì‚¬ìš©í•´
ë¡œê·¸ë¥¼ ë‚¨ê¸°ê³ ì í•˜ëŠ” ë©”ì„œë“œì— ì–´ë…¸í…Œì´ì…˜ì„ ë‹¬ì•„ì£¼ì—ˆë‹¤.

logstash.conf íŒŒì¼ì„ ë³´ë©´ ì•Œê² ì§€ë§Œ, "ReservationEvent" ì´ë¼ëŠ” ê¸€ìë¥¼ í•„í„°í•´ì„œ
í•´ë‹¹ indexì— ë¡œê·¸ë¥¼ ì €ì¥í•œë‹¤.

<details> <summary> LogstashAspect.java </summary>

```Java
    @Pointcut("@annotation(com.sparta.projectblue.aop.annotation.ReservationLogstash)")
    private void reservationLog() {}

    @Around("reservationLog()")
    public Object reservationLogstash(ProceedingJoinPoint joinPoint) throws Throwable {
        Object result;
        try {
            result = joinPoint.proceed();
        } catch (Exception e) {
            log.error(
                    "ReservationEvent: ì˜ˆë§¤ ì‹¤íŒ¨ - ë©”ì„œë“œ: {}, ì´ìœ : {}",
                    joinPoint.getSignature().getName(),
                    e.getMessage());
            throw e;
        }

        // ì˜ˆë§¤ ì™„ë£Œ
        // íŒ¨í„´ ë§¤ì¹­ì„ ì ìš©í•œ ì½”ë“œ
        if (result instanceof CreateReservationResponseDto reservation) {
            log.info(
                    "ReservationEvent: ì˜ˆë§¤ ì™„ë£Œ - ì˜ˆë§¤ ID: {}, ê³µì—°ëª…: {}, ë‚ ì§œ: {}, ì¢Œì„: {}, ì´ ê°€ê²©: {}, ì˜ˆì•½ìƒíƒœ: {}",
                    reservation.getId(),
                    reservation.getPerformanceTitle(),
                    reservation.getRoundDate(),
                    reservation.getSeats(),
                    reservation.getPrice(),
                    reservation.getStatus());
        }

        // ì˜ˆë§¤ ì·¨ì†Œ
        else if ("delete".equals(joinPoint.getSignature().getName())) {
            Object[] args = joinPoint.getArgs();
            Long reservationId = (Long) args[0];
            log.info("ReservationEvent: ì˜ˆë§¤ ì·¨ì†Œ - ìœ ì € ID: {}", reservationId);
        } else {
            log.warn("ReservationEvent: ì˜ˆìƒì¹˜ ëª»í•œ ê²°ê³¼ í˜•ì‹ - {}", result);
        }

        return result;
    }
```
</details>

## 4. docekr-compose.yml
í”„ë¡œì íŠ¸ ì„¸íŒ…ì€ ëë‚¬ê³  dockerì— elkë¥¼ ì‰½ê²Œ ì„¤ì¹˜í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ docker-compose.yml íŒŒì¼ì„ ì„¸íŒ…í–ˆë‹¤.

dockerì— ì„¤ì¹˜í•˜ëŠ” ë°©ë²•ì€ ê°„ë‹¨í•˜ë‹¤. ë‚˜ëŠ” windowë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—
1. PowerShellì„ ê´€ë¦¬ì ëª¨ë“œë¡œ ì‹¤í–‰
2. docker-compose.yml íŒŒì¼ì´ ìˆëŠ” ê²½ë¡œë¡œ ì´ë™
3. "docker compose up -d" ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•´ì„œ imageë¥¼ ë‹¤ìš´ë°›ê³  containerë¥¼ ì‹¤í–‰

<details> <summary> docekr-compose.yml </summary>

```yaml
services:
  es01:
    image: docker.elastic.co/elasticsearch/elasticsearch:7.17.3
    container_name: es01
    environment:
      - node.name=es01
      - cluster.name=search-cluster
      - discovery.seed_hosts=es02,es03
      - cluster.initial_master_nodes=es01,es02,es03
      - xpack.security.enabled=false
      - xpack.security.http.ssl.enabled=false
      - xpack.security.transport.ssl.enabled=false
      - "ES_JAVA_OPTS=-Xms256m -Xmx256m"
    ports:
      - "9200:9200" # https
      - "9300:9300" #tcp
    networks:
      - es-bridge
  es02:
    image: docker.elastic.co/elasticsearch/elasticsearch:7.17.3
    container_name: es02
    environment:
      - node.name=es02
      - cluster.name=search-cluster
      - discovery.seed_hosts=es01,es03
      - cluster.initial_master_nodes=es01,es02,es03
      - xpack.security.enabled=false
      - xpack.security.http.ssl.enabled=false
      - xpack.security.transport.ssl.enabled=false
      - "ES_JAVA_OPTS=-Xms256m -Xmx256m"
    ports:
      - "9201:9200" # https
      - "9301:9300" #tcp
    networks:
      - es-bridge
  es03:
    image: docker.elastic.co/elasticsearch/elasticsearch:7.17.3
    container_name: es03
    environment:
      - node.name=es03
      - cluster.name=search-cluster
      - discovery.seed_hosts=es01,es02
      - cluster.initial_master_nodes=es01,es02,es03
      - xpack.security.enabled=false
      - xpack.security.http.ssl.enabled=false
      - xpack.security.transport.ssl.enabled=false
      - "ES_JAVA_OPTS=-Xms256m -Xmx256m"
    ports:
      - "9202:9200" # https
      - "9302:9300" #tcp
    networks:
      - es-bridge
  logstash:
    image: docker.elastic.co/logstash/logstash:7.17.3
    container_name: logstash
    environment:
      - xpack.monitoring.enabled=false
    ports:
      - 5000:5000
      - 9600:9600
    volumes:
      - ./logstash.conf:/usr/share/logstash/pipeline/logstash.conf # local file mapping
    depends_on:
      - es01
      - es02
      - es03
    networks:
      - es-bridge
  kibana:
    image: docker.elastic.co/kibana/kibana:7.17.3
    container_name: kibana
    environment:
      SERVER_NAME: kibana
      ELASTICSEARCH_HOSTS: http://es01:9200
    ports:
      - 5601:5601
    # Elasticsearch Start Dependency
    depends_on:
      - es01
    networks:
      - es-bridge
networks:
  es-bridge:
    driver: bridge
```

</details>

ElasticSearch ë…¸ë“œëŠ” 3ê°œ ì´ìƒ, í™€ìˆ˜ ë‹¨ìœ„ë¡œ ì„¤ì •í•´ë†“ëŠ” ê²ƒì´ ì¥ì•  ë°œìƒ ì‹œ
í›„ë³´ ë§ˆìŠ¤í„°ë…¸ë“œë¥¼ ì„ ì¶œí•  ë•Œ ì¢‹ë‹¤ê³  í•´ì„œ 3ê°œë¡œ êµ¬ì„±í–ˆë‹¤.

ì‚¬ìš©í•˜ëŠ” ë©”ëª¨ë¦¬ëŠ” AWS 4GB ì§œë¦¬ medium ì„œë²„ë¥¼ ì´ìš©í•˜ê¸° ë•Œë¬¸ì— 256MBë¡œ ì„¤ì •í•´ì£¼ì—ˆë‹¤.

logstashì˜ volumesë¥¼ í†µí•´ í˜„ì¬ ê²½ë¡œì— ìˆëŠ” logstash.conf ì™€ docker ì„œë²„ì— ìˆëŠ” logstash.confë¥¼ ë§¤í•‘ì‹œì¼°ë‹¤.
ì´ëŸ¬ë©´ logstash ë‚´ìš©ë“¤ì„ êµ³ì´ docker ì„œë²„ì— ì ‘ì†í•˜ì§€ ì•Šê³  windowì—ì„œ íŒŒì¼ì„ ìˆ˜ì •í•  ìˆ˜ ìˆì–´ì„œ ê°„í¸í•˜ë‹¤.

## 5. logstash.conf
logstashë¡œ ìˆ˜ì§‘ë˜ëŠ” ë¡œê·¸ë“¤ì„ filterë„ í•´ì£¼ê³  ë¡œê·¸ í˜•ì‹ ë³€í™˜ ë“±ì„ í•´ì„œ esë¡œ ë³´ë‚´ì£¼ëŠ” ì„¤ì •íŒŒì¼ì´ë‹¤.

<details> <summary> logstash.conf </summary>

```
input {
  tcp {
    port => 5000	// 5000ë²ˆ í¬íŠ¸ë¡œ logë¥¼ ë°›ê² ë‹¤.
    codec => json	// json í˜•ì‹ìœ¼ë¡œ
  }
}

filter {
 grok {	// timestampëŠ” ISO8601 í˜•ì‹ìœ¼ë¡œ.... loglevelë„... ë‚˜ë¨¸ì§€ë°ì´í„°ëŠ” messageì—~
  match => { "message" => "%{TIMESTAMP_ISO8601:timestamp} %{LOGLEVEL:loglevel} %{GREEDYDATA:message}" }
 }

 date {
  match => [ "timestamp", "ISO8601" ]
 }

 # ì´ë²¤íŠ¸ë³„ íƒœê·¸ ì¶”ê°€
 # ReservationEvent ê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ reservation_event íƒœê·¸ ì¶”ê°€
 if [message] =~ "ReservationEvent" {
  mutate { add_tag => ["reservation_event"] }
 }

 if [message] =~ "PaymentEvent" {
  mutate { add_tag => ["payment_event"] }
 }
 
 if [message] =~ "CouponEvent" {
  mutate { add_tag => ["coupon_event"] }
 }

 # SQL ê´€ë ¨ í…Œì´ë¸” ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ íƒœê·¸ ì¶”ê°€
 # selectê°€ í¬í•¨ëœ ì¿¼ë¦¬ëŠ” ì œì™¸í•œë‹¤.
 if [logger_name] == "org.hibernate.SQL" {
  if [message] =~ /select/ {
   drop {}
  }
  if [message] =~ /(reservations|reserved_seats|rounds)/ {
    mutate { add_tag => ["reservation_query"] }
  } else if [message] =~ /payments/ {
    mutate { add_tag => ["payment_query"] }
  } else if [message] =~ /coupon/ {
    mutate { add_tag => ["coupon_query"] }
  }
 }
}

output {
 # ì „ì²´ ì´ë²¤íŠ¸ ë¡œê·¸ ì „ì†¡
 if "reservation_event" in [tags] or "payment_event" in [tags] or "coupon_event" in [tags]
   or "reservation_query" in [tags] or "payment_query" in [tags] or "coupon_query" in [tags] {
  elasticsearch {
   hosts => ["http://es01:9200", "http://es02:9200", "http://es03:9200"]
   index => "logstash-%{+YYYY.MM.dd}"
  }
  stdout { codec => rubydebug }
 }
 # Reservation ê´€ë ¨ ì´ë²¤íŠ¸ì™€ ì¿¼ë¦¬ë¥¼ Elasticsearchë¡œ ì „ì†¡
 if "reservation_event" in [tags] or "reservation_query" in [tags] {
   elasticsearch {
     hosts => ["http://es01:9200", "http://es02:9200", "http://es03:9200"]
     index => "reservation-logs-%{+YYYY.MM.dd}"
   }
   stdout { codec => rubydebug }
 }

 # Payment ê´€ë ¨ ì´ë²¤íŠ¸ì™€ ì¿¼ë¦¬ë¥¼ Elasticsearchë¡œ ì „ì†¡
 if "payment_event" in [tags] or "payment_query" in [tags] {
   elasticsearch {
     hosts => ["http://es01:9200", "http://es02:9200", "http://es03:9200"]
     index => "payment-logs-%{+YYYY.MM.dd}"
   }
   stdout { codec => rubydebug }
 }

 # Coupon ê´€ë ¨ ì´ë²¤íŠ¸ì™€ ì¿¼ë¦¬ë¥¼ Elasticsearchë¡œ ì „ì†¡
 if "coupon_event" in [tags] or "coupon_query" in [tags] {
   elasticsearch {
     hosts => ["http://es01:9200", "http://es02:9200", "http://es03:9200"]
     index => "coupon-logs-%{+YYYY.MM.dd}"
   }
   stdout { codec => rubydebug }
 }
}
```

ìš°ë¦¬ëŠ” 5000ë²ˆ í¬íŠ¸ë¥¼ í†µí•´ json í˜•ì‹ìœ¼ë¡œ logstashë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬ë°›ê¸°ë¡œ í–ˆë‹¤.

logë©”ì‹œì§€ ì¤‘ íŠ¹ì • ë‹¨ì–´ê°€ í¬í•¨ë˜ì–´ ìˆì„ ë•Œ íƒœê·¸ë¥¼ ì¶”ê°€í•˜ì—¬
í•´ë‹¹ indexë¡œ ë¡œê·¸ë¥¼ ì „ì†¡í•˜ê³ , "select"ê°€ í¬í•¨ëœ ì¿¼ë¦¬ëŠ” ì „ì†¡ë˜ì§€ ì•Šë„ë¡ í•„í„°ë¥¼ ì„¤ì •í–ˆë‹¤.

</details>

#### Logstash ì´ë¯¸ì§€
- logstash ë¡œê·¸ ìˆ˜ì§‘í™”ë©´<br>
  ![image](https://github.com/user-attachments/assets/5ec8ba74-3397-49e4-8aea-6ff67cf41ae2)
- ë§¤ì¼ ì±„ì›Œì§€ëŠ” ë¡œê·¸<br>
  ![image](https://github.com/user-attachments/assets/2a7c2061-856d-46dc-a85b-409ceae39a94)
- ë§¤ì¼ ë°±ì—…ë˜ëŠ” ë¡œê·¸<br>
  ![image](https://github.com/user-attachments/assets/7089d337-2896-4b9f-8c1e-96a9273e362c)

</details>


<details> <summary>Monitoring - Prometheus, Grafana</summary>

ìœ„ì•„ë˜ë¥¼ ë„ìš°ê³  ì—¬ê¸°ì— ë‚´ìš©ì„ ì‘ì„±í•˜ì„¸ìš”
ë§ˆí¬ë‹¤ìš´ ë¬¸ë²•ìœ¼ë¡œ ì‘ì„±í•˜ì‹œë©´ ë©ë‹ˆë‹¤

</details>


<details> <summary>Code Convention</summary>

### Code Convention

í”„ë¡œì íŠ¸ì—ì„œ Code Conventionì€ ì´ë ¥ì„œë¥¼ ì‘ì„±í• ë•Œì˜ ë§ì¶¤ë²• ë§Œí¼ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤

ì˜¨ë¼ì¸ í˜‘ì—… í”„ë¡œì íŠ¸ì—ì„œ ì¼ê´€ì„±ìˆëŠ” Codeë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì€ ì‰½ì§€ ì•Šì•˜ì§€ë§Œ ìµœëŒ€í•œ ì •ëˆëœ Codeë¥¼ ë°°í¬í•  ìˆ˜ ìˆë„ë¡ ë‹¤ì–‘í•œ ì‹œë„ë¥¼ í–ˆìŠµë‹ˆë‹¤

### SonarQube

ì„œë²„ ê¸°ë°˜ì˜ ì •ì  ì½”ë“œ ë¶„ì„ ë„êµ¬ì…ë‹ˆë‹¤

Docker ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰í•˜ì˜€ê³  í”„ë¡œì íŠ¸ ê²½ë¡œë“±ì˜ ì˜µì…˜ì„ ë„£ì–´ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

Bugsì™€ Code Smellsë¥¼ ìµœì†Œí™” í•˜ì˜€ìŠµë‹ˆë‹¤

![SonarQube_Docker](https://g-cbox.pstatic.net/MjAyNDExMjFfMjY4/MDAxNzMyMTc4NjcwOTA4.YhTuUHPhH6Pri2N91rY_hxS60A5UyJwNU7ptVh-eJ5Yg.ZVC0BMyrgVBXZWPEfF1QO-3TKoh459SX22L7Ct8IZEkg.PNG/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2024-11-21_174356.png)
![SonarQube_before_after](https://g-cbox.pstatic.net/MjAyNDExMjFfNTMg/MDAxNzMyMTgwMTk2NDM1.KhQnItiQ0dJCO-zNcgm5KJO7BXhs9BNx53oFckAgUkcg.GIKsZMuHdeAACxLPoAOdA6DOMkuYmB-4vOqAVXOh228g.PNG/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2024-11-17_200758.png)

### SonarLint

IDEì—ì„œ Plugin í˜•íƒœë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì •ì  ì½”ë“œ ë¶„ì„ ë„êµ¬ì…ë‹ˆë‹¤

![SonarLint_155_issues](https://g-cbox.pstatic.net/MjAyNDExMjFfMjAw/MDAxNzMyMTc5MTQwNjM4.5GpMaVU1aU-zaQo8ZZTCz5CRKL2CW4bM-2HivrjIAbIg.Dh2334UZroiQZmYnL-ZAgGwHkWEhSs3K7diHPJkM2iUg.PNG/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2024-11-18_234428.png)
![SonarLint_15_issues](https://g-cbox.pstatic.net/MjAyNDExMjFfMTk1/MDAxNzMyMTc5MDc1NDkx.KcNLJ245GOcrR57C5fh6jUgqkc1NstZBXXlLmzbptbcg.qnMXJ3hMx66W_IpSetFGjIndLTLEWdCoLOW7KI5amAEg.PNG/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7_2024-11-19_100950.png)

### Spotless

IDEì—ì„œ Plugin í˜•íƒœë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìë™ì •ë ¬ ë„êµ¬ ì…ë‹ˆë‹¤.

build.gradleì— ì¶”ê°€í•˜ë©´ ì»´íŒŒì¼ ê³¼ì •ì—ì„œ ì „ì²´ ì½”ë“œë¥¼ ì„¤ì •ì— ë§ê²Œ ì •ë ¬í•´ì¤ë‹ˆë‹¤

ë‹¤ë§Œ, ì „ì²´ ì½”ë“œë¥¼ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ë°°í¬ ì„±ëŠ¥ì„ ì €í•˜ì‹œí‚¤ëŠ” ì›ì¸ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤

ë³¸ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì£¼ì„ì²˜ë¦¬ë¥¼ í•˜ì—¬ í•„ìš”í• ë•Œë§Œ í•œë²ˆì”© ì „ì²´ ì½”ë“œì— ì ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤

![](https://g-cbox.pstatic.net/MjAyNDExMjFfMyAg/MDAxNzMyMTc5ODQzODky._s-wo4smBn4FRxzDa3_pkY8MVrEOxkgnzLwCOnMyb5cg.5o3fPHUPCvVwTmF7hBclvFiZMIaA4vHwwGqNbyLvdGUg.PNG/carbon_%2816%29.png)

</details>

# ğŸ’» Contributors

<details> <summary>ê°•ì€ì´</summary>

### [ê°•ì€ì´](https://github.com/eunchongkang)

- CRUD
    - ê³µì—°ì¥
    - ì¿ í°
- ë™ì‹œì„± ì œì–´
    - ì¿ í° ë°œê¸‰ì‹œ ë™ì‹œì„± ì œì–´ í•„ìš”ì„±
    - Redisì˜ Redisson ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©í•˜ì—¬ ë¶„ì‚° ë½ ì ìš©
- ê²°ì œ ì‹œìŠ¤í…œ ì¿ í° ì ìš©
    - í† ìŠ¤í˜ì´ë¨¼ì¸ ì—ì„œ ê²°ì œ ì‹œ ì¿ í° ì ìš© ê°€ëŠ¥
- ì•Œë¦¼ ì‹œìŠ¤í…œ
    - ì˜ˆë§¤ ì„±ê³µ/ì·¨ì†Œ ì‹œ ìŠ¬ë™ ì•Œë¦¼ ì „ì†¡
    - AOP ë°©ì‹ì—ì„œ SSEë¡œ ë³€ê²½í•˜ì—¬ ë¹„ë™ê¸°, ì‹¤ì‹œê°„ ì²˜ë¦¬ ê¸°ëŠ¥ ì¶”ê°€ ë° í–¥ìƒ
    - Redis pub/subì„ ì ìš©í•˜ì—¬ ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ ê°„ ì‹¤ì‹œê°„ ì•Œë¦¼ì„ ì „íŒŒ í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„
- TEST
    - Jmeter í™œìš©í•˜ì—¬ ì¿ í°, ê³µì—°ì¥ ê´€ë ¨ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë° ì‘ë‹µì†ë„ í™•ì¸

</details>

<details> <summary>ê¹€íƒœì£¼ (LEADER)</summary>

### [ê¹€íƒœì£¼ (LEADER)](https://github.com/mylotto0626)

- CRUD
    - ê´€ëŒí‰
- s3 ì²¨ë¶€íŒŒì¼ CRUD
    - ê³µì—°ì„ ë“±ë¡ ì‹œ s3ì— í¬ìŠ¤í„°ë¥¼ ì €ì¥í•  ìˆ˜ ìˆìŒ
- ë ˆë””ìŠ¤ ìºì‹±
    - Redisë¥¼ ì´ìš©í•œ ë‹¨ìˆœ ì¡°íšŒ api ì¡°íšŒ ì†ë„ ê°œì„ 
- ë™ì‹œì„± ì œì–´
    - í‹°ì¼“ ì˜ˆë§¤ ì‹œ ë™ì‹œì„± ì œì–´ í•„ìš”ì„±
    - Redisì˜ Redisson ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©í•˜ì—¬ ë¶„ì‚° ë½ ì ìš©
- TEST
    - Junit í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±

</details>

<details> <summary>ì´ë´„</summary>

### [ì´ë´„](https://github.com/everydayspring)

- í”„ë¡œì íŠ¸ ê¸°ë³¸êµ¬ì¡° ìƒì„±
    - ERDê¸°ë°˜ entity ì„¤ê³„
    - Testë°ì´í„° ìƒì„± domain ì„¤ê³„
- CRUD
    - ì˜ˆë§¤ ê´€ë ¨ ê¸°ëŠ¥ êµ¬í˜„
    - íšŒì›ê°€ì…, ë¡œê·¸ì¸ ê¸°ëŠ¥ êµ¬í˜„
- Swagger
    - API í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì„±
    - ìƒ˜í”Œ ë°ì´í„° ì„¸íŒ…
- Jira
    - í”„ë¡œì íŠ¸ ê´€ë¦¬ í™˜ê²½ êµ¬ì„±
- ê²°ì œ ì‹œìŠ¤í…œ ì—°ë™
    - í† ìŠ¤ í˜ì´ë¨¼ì¸  ê²°ì œ DB ê´€ë ¨ ê¸°ëŠ¥ êµ¬í˜„
- CICD
    - ë°°í¬ í™˜ê²½ êµ¬ì„±
    - Jenkins - github webhook í™˜ê²½ êµ¬ì„±
- Elasticsearch
    - ê³µì—° í‚¤ì›Œë“œ ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„
    - JPA â†’ ES ê²€ìƒ‰ ì„±ëŠ¥ ê°œì„ 
- Spring Batch
    - Batch ì „ìš© í”„ë¡œì íŠ¸ êµ¬ì„±
    - Jenkins Batch ìë™í™” í™˜ê²½ êµ¬ì„±
- TEST
    - Prometheus - Grafana í™˜ê²½ êµ¬ì„±
    - Jmeter í™œìš© ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
    - Junit í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
      -Refactoring
    - SonarQube ì •ì  ì½”ë“œ ê²€ì¦ ë° ê°œì„ 
    - SonarLint ì •ì  ì½”ë“œ ê²€ì¦ ë° ê°œì„ 
    - code convention ì ê²€ ë° ìˆ˜ì •
    - Spotless í™œìš©

</details>

<details> <summary>ì´ë´‰ì› (SUB-LEADER)</summary>

### [ì´ë´‰ì› (SUB-LEADER)](https://github.com/LeeBongwon94)

- ê³µì—° ê´€ë¦¬ ì‹œìŠ¤í…œ
    - CRUD : ìƒì„±, ì „ì²´ ì¡°íšŒ, í‚¤ì›Œë“œ ê²€ìƒ‰, ìˆ˜ì •, ì‚­ì œ, ì¶œì—°ì ë“±ë¡, ì‚­ì œ, í¬ìŠ¤í„° ìˆ˜ì • ê¸°ëŠ¥ êµ¬í˜„
- ê²°ì œì‹œìŠ¤í…œ ì—°ë™
    - í† ìŠ¤í˜ì´ë¨¼ì¸  API ì—°ë™ ê²°ì œ
- OAuth2 ì†Œì…œ ë¡œê·¸ì¸
    - ì¹´ì¹´ì˜¤ ê³„ì •ì„ í™œìš©í•˜ì—¬ ì‚¬ìš©ì ì¸ì¦ ë° ë¡œê·¸ì¸ êµ¬í˜„
- ë©”ì¼ ë°œì†¡ ê¸°ëŠ¥
    - SMTP í”„ë¡œí† ì½œ ì‚¬ìš©
    - ë¹„ë™ê¸° ì²˜ë¦¬ : @Asyncë¥¼ í™œìš©
- DB ì´ì¤‘í™” ë° ë¶„ì‚° ì²˜ë¦¬
    - AWSê¸°ë°˜ ì´ì¤‘í™” DB êµ¬ì„± : EC2ë¥¼ í™œìš©
    - Master-Slave ì—­í•  ë¶„ë¦¬
        - Master ë…¸ë“œ : ë°ì´í„° ì“°ê¸° ì‘ì—…(Insert)
        - Slave ë…¸ë“œ : ë°ì´í„° ì½ê¸° ì‘ì—…(Read)
- ELK ìŠ¤íƒ í†µí•© ë¡œê·¸ ê´€ë¦¬
    - Logstash í•„í„° ì ìš©
    - AWS í™˜ê²½ ì ìš© : ELK ê¸°ë°˜ ë¡œê·¸ ëª¨ë‹ˆí„°ë§
- ì½”ë“œ ë¦¬íŒ©í† ë§
    - Jmeterë¥¼ í™œìš©í•˜ì—¬ ì„±ëŠ¥í…ŒìŠ¤íŠ¸ ë° ì‘ë‹µì†ë„ ê°ì†Œë¥¼
      ìœ„í•œ ì½”ë“œ ë¦¬íŒ©í† ë§

</details>

<details> <summary>í•œê°•</summary>

### [í•œê°•](https://github.com/hankang67)

- CRUD
    - ê³µì—°ë‹¹ ë°°ìš° ë“±ë¡, ì‚­ì œ
    - ë°°ìš°, íšŒì°¨
- ê²€ìƒ‰ ê¸°ëŠ¥ ì¶”ê°€
    - ê´€ë¦¬ì ì¤‘ì‹¬ ì˜ˆë§¤, ê²°ì œ ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„
- ElasticSearch & kibana
    - elasticsearch ë° kibana í™˜ê²½ êµ¬ì„±
    - ì¸ë±ì‹± ì„¤ê³„ ë° ê²€ìƒ‰í™˜ê²½ êµ¬í˜„
- Logstash
    - ì„œë¹„ìŠ¤ ë¡œê·¸ ìˆ˜ì§‘, ë°±ì—…ë¡œê·¸íŒŒì¼ í†µí•©
    - kibanaë¡œ ìˆ˜ì§‘í•œ ë¡œê·¸ì— ëŒ€í•œ ëª¨ë‹ˆí„°ë§

</details>

# ğŸ¤ Development Guide

![team guide](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcOdXdA%2FbtsKR3QWsg0%2Fk46EZZvQcx6O09QeozDJhk%2Fimg.png)
